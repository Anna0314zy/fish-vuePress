<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.基础应用 | 小鱼儿的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="专注前端技术栈分享,从前端到Node.js再到数据库">
    
    <link rel="preload" href="/fish-vuePress/assets/css/0.styles.661cc1b3.css" as="style"><link rel="preload" href="/fish-vuePress/assets/js/app.7db4e227.js" as="script"><link rel="preload" href="/fish-vuePress/assets/js/2.b13c1c09.js" as="script"><link rel="preload" href="/fish-vuePress/assets/js/1.e752e41e.js" as="script"><link rel="preload" href="/fish-vuePress/assets/js/12.2628bb41.js" as="script"><link rel="prefetch" href="/fish-vuePress/assets/js/10.ceac55a7.js"><link rel="prefetch" href="/fish-vuePress/assets/js/100.2bf3dec1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/101.41b757c9.js"><link rel="prefetch" href="/fish-vuePress/assets/js/102.554c41f6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/103.8cb27d26.js"><link rel="prefetch" href="/fish-vuePress/assets/js/104.f02137f3.js"><link rel="prefetch" href="/fish-vuePress/assets/js/105.abbe6470.js"><link rel="prefetch" href="/fish-vuePress/assets/js/106.a7a388fa.js"><link rel="prefetch" href="/fish-vuePress/assets/js/107.8af08d25.js"><link rel="prefetch" href="/fish-vuePress/assets/js/108.b6ff9992.js"><link rel="prefetch" href="/fish-vuePress/assets/js/109.762ea126.js"><link rel="prefetch" href="/fish-vuePress/assets/js/11.ec9bd2be.js"><link rel="prefetch" href="/fish-vuePress/assets/js/110.927eb467.js"><link rel="prefetch" href="/fish-vuePress/assets/js/111.adc4acb4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/112.130b6d37.js"><link rel="prefetch" href="/fish-vuePress/assets/js/113.9d7ca173.js"><link rel="prefetch" href="/fish-vuePress/assets/js/114.77344bff.js"><link rel="prefetch" href="/fish-vuePress/assets/js/115.89733bdc.js"><link rel="prefetch" href="/fish-vuePress/assets/js/116.874a6cc6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/117.7aaeb7f5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/118.0a179db8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/119.c6d07158.js"><link rel="prefetch" href="/fish-vuePress/assets/js/120.0b6940d1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/121.5bf20be8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/122.83289fc4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/123.6daf47eb.js"><link rel="prefetch" href="/fish-vuePress/assets/js/124.089fecff.js"><link rel="prefetch" href="/fish-vuePress/assets/js/125.8dba6703.js"><link rel="prefetch" href="/fish-vuePress/assets/js/126.9216202c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/127.e458cd9c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/128.9f22b0ed.js"><link rel="prefetch" href="/fish-vuePress/assets/js/129.2575d138.js"><link rel="prefetch" href="/fish-vuePress/assets/js/13.21baa93c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/130.0a5c5f7d.js"><link rel="prefetch" href="/fish-vuePress/assets/js/131.aedcdddd.js"><link rel="prefetch" href="/fish-vuePress/assets/js/132.ccff1de2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/133.6a78d994.js"><link rel="prefetch" href="/fish-vuePress/assets/js/134.3b6226c8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/135.aa20e7b0.js"><link rel="prefetch" href="/fish-vuePress/assets/js/136.62f2eacf.js"><link rel="prefetch" href="/fish-vuePress/assets/js/137.4998600f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/138.7de8fc50.js"><link rel="prefetch" href="/fish-vuePress/assets/js/139.1adbc6d7.js"><link rel="prefetch" href="/fish-vuePress/assets/js/14.9d819ab5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/140.89ab1934.js"><link rel="prefetch" href="/fish-vuePress/assets/js/141.80a1eccf.js"><link rel="prefetch" href="/fish-vuePress/assets/js/142.c1982beb.js"><link rel="prefetch" href="/fish-vuePress/assets/js/143.a7edeaf3.js"><link rel="prefetch" href="/fish-vuePress/assets/js/144.3e74de50.js"><link rel="prefetch" href="/fish-vuePress/assets/js/145.272e58f9.js"><link rel="prefetch" href="/fish-vuePress/assets/js/146.dff80155.js"><link rel="prefetch" href="/fish-vuePress/assets/js/147.110b58a6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/148.8bf060e7.js"><link rel="prefetch" href="/fish-vuePress/assets/js/149.574ba474.js"><link rel="prefetch" href="/fish-vuePress/assets/js/15.213907d2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/150.8133f0b4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/151.6947a6c1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/152.b49c04e9.js"><link rel="prefetch" href="/fish-vuePress/assets/js/16.223e831f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/17.ee0c21d9.js"><link rel="prefetch" href="/fish-vuePress/assets/js/18.ea95e2da.js"><link rel="prefetch" href="/fish-vuePress/assets/js/19.b8e8fe3d.js"><link rel="prefetch" href="/fish-vuePress/assets/js/20.0d5d355c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/21.eec4084f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/22.c64f8146.js"><link rel="prefetch" href="/fish-vuePress/assets/js/23.808ac485.js"><link rel="prefetch" href="/fish-vuePress/assets/js/24.50d0c55a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/25.3cf3b98f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/26.d0825f45.js"><link rel="prefetch" href="/fish-vuePress/assets/js/27.fd33c51c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/28.c4d721bd.js"><link rel="prefetch" href="/fish-vuePress/assets/js/29.6d8043ea.js"><link rel="prefetch" href="/fish-vuePress/assets/js/3.b9aa9360.js"><link rel="prefetch" href="/fish-vuePress/assets/js/30.cff3c403.js"><link rel="prefetch" href="/fish-vuePress/assets/js/31.563442e1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/32.3e857e07.js"><link rel="prefetch" href="/fish-vuePress/assets/js/33.203f464d.js"><link rel="prefetch" href="/fish-vuePress/assets/js/34.73f04131.js"><link rel="prefetch" href="/fish-vuePress/assets/js/35.0fd8005c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/36.1e47204e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/37.715f9d75.js"><link rel="prefetch" href="/fish-vuePress/assets/js/38.c51cc576.js"><link rel="prefetch" href="/fish-vuePress/assets/js/39.cc2fd898.js"><link rel="prefetch" href="/fish-vuePress/assets/js/4.1d4a232f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/40.2b43d43c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/41.248a4042.js"><link rel="prefetch" href="/fish-vuePress/assets/js/42.ff3bad7f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/43.a226aca4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/44.9b55dcc1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/45.fe91c9ef.js"><link rel="prefetch" href="/fish-vuePress/assets/js/46.fdb56651.js"><link rel="prefetch" href="/fish-vuePress/assets/js/47.19166713.js"><link rel="prefetch" href="/fish-vuePress/assets/js/48.d3f47361.js"><link rel="prefetch" href="/fish-vuePress/assets/js/49.442b28f2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/5.c9b4e5f8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/50.7ff7f865.js"><link rel="prefetch" href="/fish-vuePress/assets/js/51.3be9fc20.js"><link rel="prefetch" href="/fish-vuePress/assets/js/52.e36e6708.js"><link rel="prefetch" href="/fish-vuePress/assets/js/53.69d8ea45.js"><link rel="prefetch" href="/fish-vuePress/assets/js/54.fe436ea5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/55.9217fc35.js"><link rel="prefetch" href="/fish-vuePress/assets/js/56.8feee271.js"><link rel="prefetch" href="/fish-vuePress/assets/js/57.12650c93.js"><link rel="prefetch" href="/fish-vuePress/assets/js/58.071c93ef.js"><link rel="prefetch" href="/fish-vuePress/assets/js/59.3fffe4f8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/6.0d6e493b.js"><link rel="prefetch" href="/fish-vuePress/assets/js/60.bace2f13.js"><link rel="prefetch" href="/fish-vuePress/assets/js/61.f96c717a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/62.906dff5c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/63.fa105036.js"><link rel="prefetch" href="/fish-vuePress/assets/js/64.1d5864ab.js"><link rel="prefetch" href="/fish-vuePress/assets/js/65.7a01bcb0.js"><link rel="prefetch" href="/fish-vuePress/assets/js/66.1d3662e1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/67.47b07d5b.js"><link rel="prefetch" href="/fish-vuePress/assets/js/68.e4abc45f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/69.a36ba76e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/7.e2256ca0.js"><link rel="prefetch" href="/fish-vuePress/assets/js/70.5b11a939.js"><link rel="prefetch" href="/fish-vuePress/assets/js/71.7bcc1da1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/72.c0fdbf98.js"><link rel="prefetch" href="/fish-vuePress/assets/js/73.19ea22d4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/74.e524c883.js"><link rel="prefetch" href="/fish-vuePress/assets/js/75.aba02964.js"><link rel="prefetch" href="/fish-vuePress/assets/js/76.8a74b839.js"><link rel="prefetch" href="/fish-vuePress/assets/js/77.7db38eeb.js"><link rel="prefetch" href="/fish-vuePress/assets/js/78.03a73328.js"><link rel="prefetch" href="/fish-vuePress/assets/js/79.450f5e2a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/80.b98a4dc7.js"><link rel="prefetch" href="/fish-vuePress/assets/js/81.b5d2b1f2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/82.28ec7eb0.js"><link rel="prefetch" href="/fish-vuePress/assets/js/83.0b631f9e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/84.d7ca52eb.js"><link rel="prefetch" href="/fish-vuePress/assets/js/85.548308df.js"><link rel="prefetch" href="/fish-vuePress/assets/js/86.4abe63bc.js"><link rel="prefetch" href="/fish-vuePress/assets/js/87.59163c55.js"><link rel="prefetch" href="/fish-vuePress/assets/js/88.cd511741.js"><link rel="prefetch" href="/fish-vuePress/assets/js/89.8de84f04.js"><link rel="prefetch" href="/fish-vuePress/assets/js/90.8fa45f89.js"><link rel="prefetch" href="/fish-vuePress/assets/js/91.614490d0.js"><link rel="prefetch" href="/fish-vuePress/assets/js/92.b82984be.js"><link rel="prefetch" href="/fish-vuePress/assets/js/93.d23c5f71.js"><link rel="prefetch" href="/fish-vuePress/assets/js/94.eecb124d.js"><link rel="prefetch" href="/fish-vuePress/assets/js/95.4561e68c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/96.91baeb5e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/97.dc8e4090.js"><link rel="prefetch" href="/fish-vuePress/assets/js/98.bf369fae.js"><link rel="prefetch" href="/fish-vuePress/assets/js/99.1f8b96a2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/vendors~docsearch.ee560901.js">
    <link rel="stylesheet" href="/fish-vuePress/assets/css/0.styles.661cc1b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fish-vuePress/" class="home-link router-link-active"><!----> <span class="site-name">小鱼儿的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fish-vuePress/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/fish-vuePress/node-quick/" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/fish-vuePress/webframe/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/fish-vuePress/vue-quick/" class="nav-link">
  快速掌握vue
</a></div><div class="nav-item"><a href="/fish-vuePress/database/" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/fish-vuePress/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/fish-vuePress/webpack/" class="nav-link router-link-active">
  webpack
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fish-vuePress/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/fish-vuePress/node-quick/" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/fish-vuePress/webframe/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/fish-vuePress/vue-quick/" class="nav-link">
  快速掌握vue
</a></div><div class="nav-item"><a href="/fish-vuePress/database/" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/fish-vuePress/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/fish-vuePress/webpack/" class="nav-link router-link-active">
  webpack
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/fish-vuePress/webpack/webpack原理.html" class="sidebar-link">webpack原理</a></li><li><a href="/fish-vuePress/webpack/base.html" aria-current="page" class="active sidebar-link">webpack基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_1-概念" class="sidebar-link">1.概念</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_2-webpack-dev-server" class="sidebar-link">2.webpack-dev-server</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_3-html-webpack-plugin" class="sidebar-link">3.html-webpack-plugin</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_4-loader" class="sidebar-link">4.loader</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_5-clean-webpack-plugin" class="sidebar-link">5.clean-webpack-plugin</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_6-分离css" class="sidebar-link">6.分离css</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_7-压缩js-css" class="sidebar-link">7.压缩js css</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_8-css-js存放单独的目录" class="sidebar-link">8.css js存放单独的目录</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_9-html使用src" class="sidebar-link">9.html使用src</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_10-glob" class="sidebar-link">10.glob</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_11-less-sass" class="sidebar-link">11.less sass</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_12-处理css前缀" class="sidebar-link">12.处理css前缀</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_13-转译es6-es7" class="sidebar-link">13.转译es6/es7</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_14-babel-run-time" class="sidebar-link">14.babel-run-time</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_15-eslint" class="sidebar-link">15.eslint</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_16-引入字体" class="sidebar-link">16.引入字体</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_17-如何调试" class="sidebar-link">17.如何调试</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_18-第三方库" class="sidebar-link">18.第三方库</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_19-watch" class="sidebar-link">19.watch</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_20-添加商标-拷贝静态文件" class="sidebar-link">20.添加商标-拷贝静态文件</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_21服务器代理" class="sidebar-link">21服务器代理</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_22-webpack-dev-middleware" class="sidebar-link">22.webpack-dev-middleware</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_23-reslove" class="sidebar-link">23.reslove</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_24-noparse" class="sidebar-link">24.noParse</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_25-defineplugin" class="sidebar-link">25.definePlugin</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_26-ignoreplugin" class="sidebar-link">26.IgnorePlugin</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_27-区分环境变量" class="sidebar-link">27.区分环境变量</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_28-image-webpack-loader" class="sidebar-link">28.image-webpack-loader</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_29-多页mpa" class="sidebar-link">29.多页mpa</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_29-日志优化" class="sidebar-link">29.日志优化</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_29-错误上报" class="sidebar-link">29.错误上报</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_30-日志输出" class="sidebar-link">30.日志输出</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_31-费时分析" class="sidebar-link">31.费时分析</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_32-webpack-bundle-analyzer" class="sidebar-link">32.webpack-bundle-analyzer</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_33-babel-polyfill" class="sidebar-link">33.babel-polyfill</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_34-librarytarget" class="sidebar-link">34.libraryTarget</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_35-npm-发布包" class="sidebar-link">35.npm 发布包</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_1-purgecss-webpack-plugin" class="sidebar-link">1.purgecss-webpack-plugin</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_2-cdn" class="sidebar-link">2.cdn</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_3-rem" class="sidebar-link">3.rem</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_4-内联资源" class="sidebar-link">4.内联资源</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_1-dll" class="sidebar-link">1.DLL</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_2-tree-shaking" class="sidebar-link">2.tree-shaking</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_3-scope-hoisting" class="sidebar-link">3.scope hoisting</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_4-热更新" class="sidebar-link" style="padding-left:3rem;">4.热更新</a></li></ul></li><li class="sidebar-sub-header"><a href="/fish-vuePress/webpack/base.html#_4-split-chunks" class="sidebar-link">4.split-chunks</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-基础应用"><a href="#_1-基础应用" class="header-anchor">#</a> 1.基础应用</h1> <h2 id="_1-概念"><a href="#_1-概念" class="header-anchor">#</a> 1.概念</h2> <p><img src="/fish-vuePress/assets/img/WX20201123-091449@2x.3daa4ffd.png" alt="WX20201123-091449@2x"></p> <p>对比 <a href="https://nodejs.org/api/modules.html" target="_blank" rel="noopener noreferrer">Node.js 模块<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，webpack <em>模块</em>能够以各种方式表达它们的依赖关系，几个例子如下：</p> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener noreferrer">ES2015 <code>import</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 语句</li> <li><a href="http://www.commonjs.org/specs/modules/1.0/" target="_blank" rel="noopener noreferrer">CommonJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>require()</code> 语句</li> <li><a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md" target="_blank" rel="noopener noreferrer">AMD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>define</code> 和 <code>require</code> 语句</li> <li>css/sass/less 文件中的 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import" target="_blank" rel="noopener noreferrer"><code>@import</code> 语句<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>样式(<code>url(...)</code>)或 HTML 文件(<code>&lt;img src=...&gt;</code>)中的图片链接(image url)</li></ul> <p>mode</p> <p>配置模式 启用webpack优化 三个选项</p> <ul><li>develompment</li> <li>production</li> <li>Node</li></ul> <p><img src="/fish-vuePress/assets/img/image-20201123102655278.5c767fa7.png" alt="image-20201123102655278"></p> <p><img src="/fish-vuePress/assets/img/image-20201123141700047.cb632ef6.png" alt="image-20201123141700047"></p> <h2 id="_2-webpack-dev-server"><a href="#_2-webpack-dev-server" class="header-anchor">#</a> 2.webpack-dev-server</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//产出文件的根目录</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//启用gizp压缩</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="/fish-vuePress/assets/img/image-20201128204548585.4be01abf.png" alt="image-20201128204548585"></p> <h2 id="_3-html-webpack-plugin"><a href="#_3-html-webpack-plugin" class="header-anchor">#</a> 3.html-webpack-plugin</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">//产出html文件</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.html&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//为了避免缓存，可以在产出的文件后面加hash值</span>
        <span class="token comment">//chunks: ['common', 'index'], //指定引入的代码块  用的不多 感觉不好使</span>
        <span class="token comment">//chunksSortMode: &quot;manual&quot; //对引入的代码块进行排序的模式</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="_4-loader"><a href="#_4-loader" class="header-anchor">#</a> 4.loader</h2> <p><img src="/fish-vuePress/assets/img/image-20201123151102639.f31669f2.png" alt="image-20201123151102639"></p> <p><img src="/fish-vuePress/assets/img/image-20201124105629691.a41a17b2.png" alt="image-20201124105629691"></p> <p>logo 最后被打包成fd5生成的hash值</p> <p>把图片拷贝到dist目录 更改了文件名 文件名被打包成fd5生成的hash值</p> <p><img src="/fish-vuePress/assets/img/image-20201124111350686.530bae50.png" alt="image-20201124111350686"></p> <p><img src="/fish-vuePress/assets/img/image-20201124112812808.4b121fe2.png" alt="image-20201124112812808"></p> <p><img src="/fish-vuePress/assets/img/image-20201124112852995.7a606a29.png" alt="image-20201124112852995"></p> <p>打包后的结果</p> <p><img src="/fish-vuePress/assets/img/image-20201124112655850.ae1a1958.png" alt="image-20201124112655850"></p> <p>file-loader  把文件拷贝过去 改一下文件名 变更路径 相对路径</p> <p>url-loader是file-loader的增强</p> <p>有些时候 需要一些内联 有些文件比较小 不需要生成文件</p> <div class="language-js extra-class"><pre class="language-js"><code>url<span class="token operator">-</span>loader需要传参 options<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10</span><span class="token operator">*</span><span class="token number">1024</span><span class="token punctuation">}</span>
url<span class="token operator">-</span>loader 内置了file<span class="token operator">-</span>loader
加载的图片小于10k 就转换成base64编码 内嵌到网页中去
</code></pre></div><h2 id="_5-clean-webpack-plugin"><a href="#_5-clean-webpack-plugin" class="header-anchor">#</a> 5.clean-webpack-plugin</h2> <p>npm install --save-dev clean-webpack-plugin</p> <p>const { CleanWebpackPlugin } <strong>=</strong> require('clean-webpack-plugin');</p> <div class="language- extra-class"><pre class="language-text"><code> plugins: [
        /**
         * All files inside webpack's output.path directory will be removed once, but the
         * directory itself will not be. If using webpack 4+'s default configuration,
         * everything under &lt;PROJECT_DIR&gt;/dist/ will be removed.
         * Use cleanOnceBeforeBuildPatterns to override this behavior.
         *
         * During rebuilds, all webpack assets that are not used anymore
         * will be removed automatically.
         *
         * See `Options and Defaults` for information
         */
        new CleanWebpackPlugin(),
    ],
</code></pre></div><h2 id="_6-分离css"><a href="#_6-分离css" class="header-anchor">#</a> 6.分离css</h2> <p>mini-css-extract-plugin</p> <p><img src="/fish-vuePress/assets/img/image-20201124134329342.51b7f999.png" alt="image-20201124134329342"></p> <p><img src="/fish-vuePress/assets/img/image-20201124135644297.e7ff323f.png" alt="image-20201124135644297"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
   <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span> <span class="token comment">//name 代码块chunk的名字</span>
            <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">'[id].css'</span> <span class="token comment">//代码块的名字 在异步加载的时候用的 分割代码块然后异步加载</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//分离css</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="_7-压缩js-css"><a href="#_7-压缩js-css" class="header-anchor">#</a> 7.压缩js css</h2> <p><img src="/fish-vuePress/assets/img/image-20201124141848252.884305f5.png" alt="image-20201124141848252"></p> <p>uglifyjs-webpack-plugin  terser-webpack-plugin optimize-css-assets-webpack-plugin</p> <h2 id="_8-css-js存放单独的目录"><a href="#_8-css-js存放单独的目录" class="header-anchor">#</a> 8.css js存放单独的目录</h2> <p><img src="/fish-vuePress/assets/img/image-20201124152033069.f261972f.png" alt="image-20201124152033069"></p> <p><img src="/fish-vuePress/assets/img/image-20201124152235549.0a6aad61.png" alt="image-20201124152235549"></p> <p><img src="/fish-vuePress/assets/img/image-20201124152252568.dc93d4e6.png" alt="image-20201124152252568"></p> <p>hash代表本次的编译 每编译一次就会产生新的文件</p> <p>chunkhash代码块的hash  每个entry都会产生一个chunk</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token string">'src/index.js'</span>
<span class="token punctuation">}</span>
<span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name].[hash:8]js'</span>
<span class="token punctuation">}</span>
<span class="token comment">//产生2个chunk vendor index </span>
index<span class="token punctuation">.</span>html 设置不缓存
index<span class="token punctuation">.</span>js 设置hash值 文件名变了 就请求新的资源 不用缓存的
vendor<span class="token punctuation">.</span>js <span class="token operator">--</span><span class="token operator">-</span> 放到cdn 实现缓存
默认情况：index<span class="token punctuation">.</span>js改变了  vendor也会跟着改变
现在我不想让vendor改变 
<span class="token number">1</span><span class="token punctuation">.</span>chunkhash
 <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name][hash][chunkhash].css'</span><span class="token punctuation">,</span> <span class="token comment">//name 代码块chunk的名字</span>
            <span class="token comment">//chunkhash 只要打包后的模块有一个发生了变化 都会改变</span>
            <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">'[id].css'</span> <span class="token comment">//代码块的名字 在异步加载的时候用的 分割代码块然后异步加载</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//分离css</span>
<span class="token number">2</span><span class="token punctuation">.</span>contenthash
<span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name][contenthash].css'</span><span class="token punctuation">,</span> <span class="token comment">//name 代码块chunk的名字</span>
            <span class="token comment">//chunkhash 只要打包后的模块有一个发生了变化 都会改变</span>
            <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">'[id].css'</span> <span class="token comment">//代码块的名字 在异步加载的时候用的 分割代码块然后异步加载</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//分离css</span>
</code></pre></div><h2 id="_9-html使用src"><a href="#_9-html使用src" class="header-anchor">#</a> 9.html使用src</h2> <p><img src="/fish-vuePress/assets/img/image-20201124163908363.9fc80031.png" alt="image-20201124163908363"></p> <p>webpack4使用html-withimg-loader遇到问题</p> <p>问题：图片路径会有default
<code>ERROR in Error: Parse Error: &lt;img src={&quot;default&quot;:&quot;389a66a25c539a9fd3524d58c43e2560.png&quot;}&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;bundle.js?588181ceb9662c845b90&quot;&gt;&lt;/script&gt;&lt;/body&gt; &lt;/html&gt;</code></p> <p>解决方案：
file-loader升级以后，esModule参数默认为true，改为false即可</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">'assets'</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
</code></pre></div><h2 id="_10-glob"><a href="#_10-glob" class="header-anchor">#</a> 10.glob</h2> <p><img src="/fish-vuePress/assets/img/image-20201124195943303.2f1875de.png" alt="image-20201124195943303"></p> <p><img src="/fish-vuePress/assets/img/image-20201124200036995.492775dd.png" alt="image-20201124200036995"></p> <h2 id="_11-less-sass"><a href="#_11-less-sass" class="header-anchor">#</a> 11.less sass</h2> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token comment">// use: 'css-loader', //单个</span>
                <span class="token comment">// 不用style-loader</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span> <span class="token comment">//从右向左</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token comment">// use: 'css-loader', //单个</span>
                <span class="token comment">// 不用style-loader</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span><span class="token string">'sass-loader'</span><span class="token punctuation">]</span> <span class="token comment">//从右向左</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
              
 <span class="token comment">//在css-loader 里使用less</span>
               <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token comment">// use: 'css-loader', //单个</span>
                <span class="token comment">// 不用style-loader</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
                            <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span>
                             <span class="token comment">//0 no loader</span>
                             <span class="token comment">//1 postcss-loader</span>
                              <span class="token comment">//2 postcss-loader sass-loader</span>
                             <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>
                         <span class="token string">'sass-loader'</span>
                <span class="token punctuation">]</span> <span class="token comment">//从右向左</span>
</code></pre></div><h2 id="_12-处理css前缀"><a href="#_12-处理css前缀" class="header-anchor">#</a> 12.处理css前缀</h2> <p><img src="/fish-vuePress/assets/img/image-20201124201951655.3db7c7b9.png" alt="image-20201124201951655"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token comment">// use: 'css-loader', //单个</span>
                <span class="token comment">// 不用style-loader</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">]</span> <span class="token comment">//从右向左</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js 默认文件名
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>browserslistrc 配置的支持浏览器版本
# Browsers that we support

last <span class="token number">1</span> version
<span class="token operator">&gt;</span> <span class="token number">1</span><span class="token operator">%</span>
maintained node versions
not dead
<span class="token constant">IE</span> <span class="token number">6</span> # sorry

</code></pre></div><h2 id="_13-转译es6-es7"><a href="#_13-转译es6-es7" class="header-anchor">#</a> 13.转译es6/es7</h2> <p><img src="/fish-vuePress/assets/img/image-20201124204437181.27265e84.png" alt="image-20201124204437181"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
 <span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
   <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;@babel/preset-react&quot;</span>
 <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
   <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;legacy&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//旧的写法</span>
   <span class="token punctuation">[</span> <span class="token string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string-property property">&quot;loose&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//松散的模式</span>
   <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
     <span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;helpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;regenerator&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;useESModules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
   <span class="token punctuation">}</span><span class="token punctuation">]</span>
 <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_14-babel-run-time"><a href="#_14-babel-run-time" class="header-anchor">#</a> 14.babel-run-time</h2> <p><img src="/fish-vuePress/assets/img/image-20201124221311194.838d2229.png" alt="image-20201124221311194"></p> <p>申明类的时候 每个类都引用了共同的方法</p> <p><img src="/fish-vuePress/assets/img/image-20201124224119600.b9710ee1.png" alt="image-20201124224119600"></p> <h2 id="_15-eslint"><a href="#_15-eslint" class="header-anchor">#</a> 15.eslint</h2> <p><img src="/fish-vuePress/assets/img/image-20201125105707543.6ebcd80b.png" alt="image-20201125105707543"></p> <p><img src="/fish-vuePress/assets/img/image-20201125112215194.78b28164.png" alt="image-20201125112215194"></p> <p>npm i eslint-config-airbnb eslint-plugin-import eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y -D</p> <h2 id="_16-引入字体"><a href="#_16-引入字体" class="header-anchor">#</a> 16.引入字体</h2> <p><img src="/fish-vuePress/assets/img/image-20201125114004106.7be829cd.png" alt="image-20201125114004106"></p> <p><img src="/fish-vuePress/assets/img/image-20201125114021130.b6a366fb.png" alt="image-20201125114021130"></p> <h2 id="_17-如何调试"><a href="#_17-如何调试" class="header-anchor">#</a> 17.如何调试</h2> <p><img src="/fish-vuePress/assets/img/image-20201125115104696.4de53ed0.png" alt="image-20201125115104696"></p> <p>Webstorm配置 https://www.it610.com/article/1281976568083660800.htm</p> <p><img src="/fish-vuePress/assets/img/image-20201126203500931.d7edec42.png" alt="image-20201126203500931"></p> <p>Cheap-module-source-map 源码不能调整列</p> <p>eval 最快  不能调整源码  线上不能使用</p> <p>----测试服务器 才能上传sourcr-map</p> <p><img src="/fish-vuePress/assets/img/image-20201126232528614.47e44bd9.png" alt="image-20201126232528614"></p> <p><img src="/Users/zouyu/Desktop/react-zy/img/image-20201127113539653.png" alt="image-20201127113539653"></p> <p>安装compiler.jar</p> <p>执行上述命令 ----</p> <p>可以看一下网站了解</p> <p><img src="/fish-vuePress/assets/img/image-20201127212815895.06b2710d.png" alt="image-20201127212815895"></p> <h2 id="_18-第三方库"><a href="#_18-第三方库" class="header-anchor">#</a> 18.第三方库</h2> <p><img src="/fish-vuePress/assets/img/image-20201127220029264.8084d2f2.png" alt="image-20201127220029264"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'jquery'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'expose-loader'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token string">'$'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>

<span class="token number">2.</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;expose-loader?$!jquery&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
暴露成全局变量 window<span class="token punctuation">.</span>$ 也可以有

<span class="token number">3.</span> webpack
<span class="token operator">--</span>externals
 <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token string-property property">'jquery'</span><span class="token operator">:</span> <span class="token string">'jQuery'</span> <span class="token comment">//key是包的名字，值是jQuery 全局上的jQuery给了jquery</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
    需要去index<span class="token punctuation">.</span>html去手动添加cdn地址
<span class="token number">4.</span>利用插件 插件去帮我们自动写script标签
 <span class="token keyword">new</span> <span class="token class-name">htmlWebpackExternalsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'https://unpkg.com/jquery@3.2.1/dist/jquery.min.js'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token string">'jQuery'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_19-watch"><a href="#_19-watch" class="header-anchor">#</a> 19.watch</h2> <p><img src="/fish-vuePress/assets/img/image-20201127234716819.008f8a58.png" alt="image-20201127234716819"></p> <h2 id="_20-添加商标-拷贝静态文件"><a href="#_20-添加商标-拷贝静态文件" class="header-anchor">#</a> 20.添加商标-拷贝静态文件</h2> <p><img src="/fish-vuePress/assets/img/image-20201127235102896.adcacaec.png" alt="image-20201127235102896"></p> <h2 id="_21服务器代理"><a href="#_21服务器代理" class="header-anchor">#</a> 21服务器代理</h2> <p><img src="/fish-vuePress/assets/img/image-20201127235348842.88fa19a9.png" alt="image-20201127235348842"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 产出文件的根目录</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">//dev-server内部就是一个express</span>
      <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token operator">/</span>api<span class="token operator">/</span>users  <span class="token operator">===</span><span class="token operator">&gt;</span>后台接口其实是<span class="token operator">/</span>users
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;^/api&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_22-webpack-dev-middleware"><a href="#_22-webpack-dev-middleware" class="header-anchor">#</a> 22.webpack-dev-middleware</h2> <p>在node项目中集成一个webpack</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> webpackDevMiddleware <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dev-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> webpackConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>webpackConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//中间件到底做了什么?</span>
<span class="token comment">/**
 * 1.启动编译 compiler.run
 * 2.有一个中间件 用来响应客户端对打包后的文件的请求
 */</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">webpackDevMiddleware</span><span class="token punctuation">(</span>compiler<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zhufeng'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token string">'3000'</span><span class="token punctuation">)</span>
<span class="token comment">//访问localhose:3000 能拿到客户端资源 没有跨域问题 可以直接上线</span>
</code></pre></div><p><img src="/fish-vuePress/assets/img/image-20201128143144951.da5a3674.png" alt="image-20201128143144951"></p> <h2 id="_23-reslove"><a href="#_23-reslove" class="header-anchor">#</a> 23.reslove</h2> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">//定制一些查找文件的规则</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span><span class="token string">'.jsx'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.scss'</span><span class="token punctuation">,</span><span class="token string">'.less'</span><span class="token punctuation">,</span> <span class="token string">'.css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token comment">//引入的时候 直接找你指定的路径 就不从按照node_modules规则找了</span>
      <span class="token string-property property">'bootstrap'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'node_modules/bootstrap/dist/css/bootstrap.css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//可以减少查找的路径 加快查找速度 可以自己添加查找路径</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">,</span> <span class="token string">'zfmodules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">// 先从node_modules里面找 找不到 再找zfmath</span>
    <span class="token literal-property property">mainFields</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mainFiles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'base.js'</span><span class="token punctuation">,</span> <span class="token string">'index.js'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre></div><p><img src="/fish-vuePress/assets/img/image-20201128145732625.f13b53d7.png" alt="image-20201128145732625"></p> <p>mainFiles</p> <p><img src="/fish-vuePress/assets/img/image-20201128160813210.5486066e.png" alt="image-20201128160813210"></p> <p><img src="/fish-vuePress/assets/img/image-20201128162629282.8a6b63dc.png" alt="image-20201128162629282"></p> <h2 id="_24-noparse"><a href="#_24-noparse" class="header-anchor">#</a> 24.noParse</h2> <p><img src="/fish-vuePress/assets/img/image-20201128162823863.52d678f1.png" alt="image-20201128162823863"></p> <h2 id="_25-defineplugin"><a href="#_25-defineplugin" class="header-anchor">#</a> 25.definePlugin</h2> <p><img src="/fish-vuePress/assets/img/image-20201128163201919.7e42f87e.png" alt="image-20201128163201919"></p> <p>会把这些变量和值挂载到全局上</p> <h2 id="_26-ignoreplugin"><a href="#_26-ignoreplugin" class="header-anchor">#</a> 26.IgnorePlugin</h2> <p><img src="/fish-vuePress/assets/img/image-20201128164048416.4ad25f1e.png" alt="image-20201128164048416"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//设置语言</span>

<span class="token comment">//手动引入所需要的语言包</span>
<span class="token keyword">import</span> <span class="token string">'moment/locale/zh-cn'</span><span class="token punctuation">;</span>

moment<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">'zh-cn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置语言</span>

<span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">endOf</span><span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_27-区分环境变量"><a href="#_27-区分环境变量" class="header-anchor">#</a> 27.区分环境变量</h2> <p><img src="/fish-vuePress/assets/img/image-20201128164744840.cba9bc1e.png" alt="image-20201128164744840"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">package</span><span class="token punctuation">.</span>json
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;build:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.base.js --env=development&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;build:prod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --env=production&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">--</span>config指定配置文件
    可以传参
    webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
    module<span class="token punctuation">.</span>expoets <span class="token operator">=</span> <span class="token punctuation">(</span>env<span class="token punctuation">,</span> argv<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">mode</span><span class="token operator">:</span> env
    <span class="token punctuation">}</span>
    封装log
    <span class="token keyword">let</span> oldConsole <span class="token operator">=</span> console<span class="token punctuation">.</span>log
    console<span class="token punctuation">.</span><span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     
      <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">oldConsole</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>console<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>![image-20201128170718250](/Users/zouyu/Library/Application Support/typora-user-images/image-20201128170718250.png)</p> <h2 id="_28-image-webpack-loader"><a href="#_28-image-webpack-loader" class="header-anchor">#</a> 28.image-webpack-loader</h2> <p>压缩图片</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(gif|png|jpe?g|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span> <span class="token comment">// 如果图片小于10k就转成base64</span>
              <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">'images'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">'/images'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'image-webpack-loader'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">mozjpeg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">progressive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token comment">// optipng.enabled: false will disable optipng</span>
              <span class="token literal-property property">optipng</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">enabled</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token literal-property property">pngquant</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.90</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">4</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token literal-property property">gifsicle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">interlaced</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token comment">// the webp option will enable WEBP</span>
              <span class="token literal-property property">webp</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">quality</span><span class="token operator">:</span> <span class="token number">75</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>如果安装报错 image<span class="token operator">-</span>webpack<span class="token operator">-</span>loader  <span class="token constant">EPIPE</span>
应该装包丢失  用cnpm i 安装 就行
</code></pre></div><h2 id="_29-多页mpa"><a href="#_29-多页mpa" class="header-anchor">#</a> 29.多页mpa</h2> <p><img src="/fish-vuePress/assets/img/image-20201128214629588.b2b3153f.png" alt="image-20201128214629588"></p> <div class="language-js extra-class"><pre class="language-js"><code>建文件夹  src下 

entries   入口文件

pages 模板文件

webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
<span class="token keyword">const</span> glob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'glob'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> entryFiles <span class="token operator">=</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token string">'./src/entries/*.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [</span>
<span class="token comment">//   './src/entries/index.js',</span>
<span class="token comment">//   './src/entries/index1.js',</span>
<span class="token comment">//   './src/entries/index2.js'</span>
<span class="token comment">// ]</span>
  <span class="token keyword">let</span> entry <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> htmlWebpackPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
entryFiles<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">entryFile</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(path.sep, '/');</span>
  <span class="token keyword">let</span> entryName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>entryFile<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>sep<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// console.log(path.basename(entryFile.split(path.sep).pop(), '.js'), 'pathname')</span>
  entry<span class="token punctuation">[</span>entryName<span class="token punctuation">]</span> <span class="token operator">=</span> entryFile<span class="token punctuation">;</span>
  htmlWebpackPlugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./src/pages/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entryName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entryName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token comment">// minify: false,</span>
    <span class="token comment">// hash: true, // 为了避免缓存，可以在产出的文件后面加hash值</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span>entryName<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//指定引入的代码块  用的不多 感觉不好使</span>
    <span class="token comment">// chunksSortMode: &quot;manual&quot; //对引入的代码块进行排序的模式</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">//path.extname 扩展名</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span>entry<span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>htmlWebpackPlugins
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
？公共页面 chunks
</code></pre></div><h2 id="_29-日志优化"><a href="#_29-日志优化" class="header-anchor">#</a> 29.日志优化</h2> <p><img src="/fish-vuePress/assets/img/image-20201128232620911.d4afead2.png" alt="image-20201128232620911"></p> <p><strong>new</strong> FriendlyErrorsWebpackPlugin(),</p> <h2 id="_29-错误上报"><a href="#_29-错误上报" class="header-anchor">#</a> 29.错误上报</h2> <p><img src="/fish-vuePress/assets/img/image-20201128233421156.fcd95c1f.png" alt="image-20201128233421156"></p> <h2 id="_30-日志输出"><a href="#_30-日志输出" class="header-anchor">#</a> 30.日志输出</h2> <p><img src="/fish-vuePress/assets/img/image-20201128233538705.25e4892f.png" alt="image-20201128233538705"></p> <h2 id="_31-费时分析"><a href="#_31-费时分析" class="header-anchor">#</a> 31.费时分析</h2> <p>speed-measure-webpack-plugin</p> <p><img src="/fish-vuePress/assets/img/image-20201128233613970.75970e5c.png" alt="image-20201128233613970"></p> <h2 id="_32-webpack-bundle-analyzer"><a href="#_32-webpack-bundle-analyzer" class="header-anchor">#</a> 32.webpack-bundle-analyzer</h2> <p><img src="/fish-vuePress/assets/img/image-20201128234947582.78b0cd4d.png" alt="image-20201128234947582"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>BundleAnalyzerPlugin<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-bundle-analyzer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token literal-property property">plugin</span><span class="token operator">:</span><span class="token punctuation">[</span>
     <span class="token keyword">new</span> <span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">analyzerMode</span><span class="token operator">:</span> <span class="token string">'disabled'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">generateStatsFile</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//是否生产stats文件</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
配置脚本
<span class="token punctuation">{</span>
 <span class="token string-property property">&quot;script&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;generateAnalyzFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --profile --json &gt; stats.json&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;analyz&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-bundle-analyzer --port 8888 ./dist/stats.json&quot;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_33-babel-polyfill"><a href="#_33-babel-polyfill" class="header-anchor">#</a> 33.babel-polyfill</h2> <p>Babel-transform -runtime</p> <p>Corejs 3包含promise 就不需要polyfill</p> <p><img src="/fish-vuePress/assets/img/image-20201129213100152.720da869.png" alt="image-20201129213100152"></p> <p><img src="/fish-vuePress/assets/img/image-20201129213454288.301d5fa8.png" alt="image-20201129213454288"></p> <p>推荐使用polyfill-service 会根据浏览器的版本下载浏览器需要的polyfill</p> <p>![image-20201129214324257](/Users/zouyu/Library/Application Support/typora-user-images/image-20201129214324257.png)</p> <p><img src="/fish-vuePress/assets/img/image-20201129214555691.dd10a978.png" alt="image-20201129214555691"></p> <p>Corejs 3包含promise 就不需要polyfill</p> <h2 id="_34-librarytarget"><a href="#_34-librarytarget" class="header-anchor">#</a> 34.libraryTarget</h2> <p><img src="/fish-vuePress/assets/img/image-20201129214838008.8b3c5a7d.png" alt="image-20201129214838008"></p> <p><img src="/fish-vuePress/assets/img/image-20201130151255459.47aaae90.png" alt="image-20201130151255459"></p> <p><img src="/fish-vuePress/assets/img/image-20201130151429261.ac20b321.png" alt="image-20201130151429261"></p> <p>29.4 window</p> <p>同this</p> <p>29.5 libraryTarget: &quot;umd&quot;</p> <p><img src="/fish-vuePress/assets/img/image-20201130152121842.d366774d.png" alt="image-20201130152121842"></p> <h2 id="_35-npm-发布包"><a href="#_35-npm-发布包" class="header-anchor">#</a> 35.npm 发布包</h2> <p>nrm use npm 切换到npm</p> <p>npm login</p> <p>npm search zhufenglibz  搜一下该包有没有人用 npm包名不能有大写</p> <p>npm publish</p> <p>.gitignore文件不能忽略dist要不然dist文件发布不上去</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token number">403</span> In most cases<span class="token punctuation">,</span> you or one <span class="token keyword">of</span> your dependencies are requesting
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token number">403</span> a <span class="token keyword">package</span> version that is forbidden by your security policy<span class="token punctuation">.</span>
这个错误 <span class="token operator">--</span><span class="token operator">-</span>一定要验证邮箱 才能发布自己的包
</code></pre></div><h2 id="_1-purgecss-webpack-plugin"><a href="#_1-purgecss-webpack-plugin" class="header-anchor">#</a> 1.purgecss-webpack-plugin</h2> <p><img src="/fish-vuePress/assets/img/image-20201130170242406.8625bbb4.png" alt="image-20201130170242406"></p> <h2 id="_2-cdn"><a href="#_2-cdn" class="header-anchor">#</a> 2.cdn</h2> <p><img src="/fish-vuePress/assets/img/image-20201130181933907.40e1a169.png" alt="image-20201130181933907"></p> <p><img src="/fish-vuePress/assets/img/image-20201130182008998.c0a2aa35.png" alt="image-20201130182008998"></p> <p>![image-20201130185335073](/Users/zouyu/Library/Application Support/typora-user-images/image-20201130185335073.png)</p> <h2 id="_3-rem"><a href="#_3-rem" class="header-anchor">#</a> 3.rem</h2> <ul><li>使用px2rem-loader</li> <li>页面渲染时计算根元素的font-size</li> <li>Lib-flexible</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>index<span class="token punctuation">.</span>html
<span class="token comment">//计算font-size的大小</span>
  <span class="token keyword">let</span> docEle <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">setRemUnit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>docEle<span class="token punctuation">,</span> docEle<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// docEle.style.fontSize = docEle.clientWidth / 10 + 'px'</span>
        docEle<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">'10vw'</span>  
    <span class="token punctuation">}</span>
    <span class="token function">setRemUnit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> setRemUnit<span class="token punctuation">)</span><span class="token punctuation">;</span>
一般会采用lib<span class="token operator">-</span>flexible

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
<span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
                    <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;px2rem-loader&quot;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">remUnit</span><span class="token operator">:</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token comment">//1rem = 75px 设计稿750px 1/10作为rem</span>
                            <span class="token literal-property property">remPrecision</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token comment">//除不尽 保留8位小数</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 从右向左</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
      
</code></pre></div><p><img src="/fish-vuePress/assets/img/image-20201201112649469.9208b3b6.png" alt="image-20201201112649469"></p> <h2 id="_4-内联资源"><a href="#_4-内联资源" class="header-anchor">#</a> 4.内联资源</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    $<span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'raw-loader!./meta.html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        <span class="token comment">/*!!忽略其他loader 如果不忽略会被ss-loader解析*/</span>
        $<span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'!!raw-loader!./index.css'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    <span class="token comment">//要放到head里面--&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        $<span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'raw-loader!../node_modules/lib-flexible/flexible.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">}</span>
        <span class="token comment">// new htmlWebpackPlugin 可以识别 获取的代码给babel-loader raw-loader!babel-loader</span>
        <span class="token comment">// 再给raw-loader (简单获取啥就显示到这个地方就行了)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    $<span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'raw-loader!./meta.html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        <span class="token comment">/*!!忽略其他loader 如果不忽略会被ss-loader解析*/</span>
        $<span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'!!raw-loader!./index.css'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    <span class="token comment">//要放到head里面--&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        $<span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'raw-loader!../node_modules/lib-flexible/flexible.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">}</span>
        <span class="token comment">// new htmlWebpackPlugin 可以识别 获取的代码给babel-loader raw-loader!babel-loader</span>
        <span class="token comment">// 再给raw-loader (简单获取啥就显示到这个地方就行了)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
</code></pre></div><h1 id="_2-优化"><a href="#_2-优化" class="header-anchor">#</a> 2.优化</h1> <h2 id="_1-dll"><a href="#_1-dll" class="header-anchor">#</a> 1.DLL</h2> <p><img src="/fish-vuePress/assets/img/image-20201201134043719.f4a5dd49.png" alt="image-20201201134043719"></p> <div class="language-js extra-class"><pre class="language-js"><code>webpack<span class="token punctuation">.</span>dll<span class="token punctuation">.</span>config
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">'development'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//希望把这些第三方库文件进行单独打包提高主文件的打包速度</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name].dll.js'</span><span class="token punctuation">,</span><span class="token comment">//会打包出来 react.dll.js</span>
        <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">'_dll_[name]'</span><span class="token punctuation">,</span><span class="token comment">//指定导出的名字 _dll_react</span>
        <span class="token comment">//libraryTarget: &quot;var&quot;默认</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'_dll_[name]'</span><span class="token punctuation">,</span> <span class="token comment">//跟上面libary一样</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">,</span> <span class="token string">'[name].manifest.json'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
<span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
   <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">,</span> <span class="token string">'react.manifest.json'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//如果有多个就new 多个</span>
<span class="token punctuation">]</span>
<span class="token comment">//先 npm run dll 配置命令  &quot;dll&quot;: &quot;webpack --config webpack.dll.config.js&quot;</span>
index<span class="token punctuation">.</span>html 需要手动引入
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;react.dll.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token comment">//然后import </span>
</code></pre></div><h2 id="_2-tree-shaking"><a href="#_2-tree-shaking" class="header-anchor">#</a> 2.tree-shaking</h2> <p><img src="/fish-vuePress/assets/img/image-20201201161658601.828c6faf.png" alt=" "></p> <p><img src="/fish-vuePress/assets/img/image-20201201162426125.7549a415.png" alt="image-20201201162426125"></p> <h2 id="_3-scope-hoisting"><a href="#_3-scope-hoisting" class="header-anchor">#</a> 3.scope hoisting</h2> <p><img src="/fish-vuePress/assets/img/image-20201201174329881.9e520444.png" alt="image-20201201174329881"></p> <h4 id="_4-热更新"><a href="#_4-热更新" class="header-anchor">#</a> 4.热更新</h4> <p><img src="/fish-vuePress/assets/img/image-20201201181852800.52d939d7.png" alt="image-20201201181852800"></p> <p><img src="/fish-vuePress/assets/img/image-20201201182124248.488b14cf.png" alt="image-20201201182124248"></p> <p><img src="/fish-vuePress/assets/img/image-20201201182237632.96fb474b.png" alt="image-20201201182237632"></p> <p>![image-20201201184101808](/Users/zouyu/Library/Application Support/typora-user-images/image-20201201184101808.png)</p> <h2 id="_4-split-chunks"><a href="#_4-split-chunks" class="header-anchor">#</a> 4.split-chunks</h2> <div class="language-js extra-class"><pre class="language-js"><code>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'initial'</span><span class="token comment">//指定分割的类型 all async initial</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'vendors'</span><span class="token punctuation">,</span><span class="token comment">//代码块的名字</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span> 优先级
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">{</span>
           <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'initial'</span>，
           <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'commons'</span><span class="token punctuation">,</span>
             <span class="token literal-property property">minsize</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
               <span class="token literal-property property">minChunks</span><span class="token operator">:</span><span class="token number">2</span>， <span class="token comment">//引用2次被打包到common</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="/Users/zouyu/Desktop/vue-webpack-code/webpack-dev/notes/image-20201210184905807.png" alt="image-20201210184905807"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fish-vuePress/webpack/webpack原理.html" class="prev">
        webpack原理
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fish-vuePress/assets/js/app.7db4e227.js" defer></script><script src="/fish-vuePress/assets/js/2.b13c1c09.js" defer></script><script src="/fish-vuePress/assets/js/1.e752e41e.js" defer></script><script src="/fish-vuePress/assets/js/12.2628bb41.js" defer></script>
  </body>
</html>
