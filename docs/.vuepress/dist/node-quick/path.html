<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node核心模块 -文件路径path | 小鱼儿的博客</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="专注 Node.js 技术栈分享，从前端到Node.js再到数据库">
    
    <link rel="preload" href="/fish-vuePress/assets/css/0.styles.0de575c4.css" as="style"><link rel="preload" href="/fish-vuePress/assets/js/app.e38c1a38.js" as="script"><link rel="preload" href="/fish-vuePress/assets/js/4.47c64f60.js" as="script"><link rel="preload" href="/fish-vuePress/assets/js/65.64813ff6.js" as="script"><link rel="prefetch" href="/fish-vuePress/assets/js/10.c86ad536.js"><link rel="prefetch" href="/fish-vuePress/assets/js/100.759ca827.js"><link rel="prefetch" href="/fish-vuePress/assets/js/101.4bded0a8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/102.d65e75b9.js"><link rel="prefetch" href="/fish-vuePress/assets/js/103.d88365ec.js"><link rel="prefetch" href="/fish-vuePress/assets/js/104.69a8c662.js"><link rel="prefetch" href="/fish-vuePress/assets/js/105.59e6d7e0.js"><link rel="prefetch" href="/fish-vuePress/assets/js/106.14dbbcea.js"><link rel="prefetch" href="/fish-vuePress/assets/js/107.d38478ec.js"><link rel="prefetch" href="/fish-vuePress/assets/js/108.db8ad882.js"><link rel="prefetch" href="/fish-vuePress/assets/js/109.8f587cf1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/11.754b29d5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/110.c5e894a3.js"><link rel="prefetch" href="/fish-vuePress/assets/js/111.2df69db0.js"><link rel="prefetch" href="/fish-vuePress/assets/js/112.728cf1ce.js"><link rel="prefetch" href="/fish-vuePress/assets/js/113.ec95cc9c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/114.7431d85e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/115.0b11823c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/116.de262d5e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/117.b4ff302e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/118.fb6742d2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/119.28604668.js"><link rel="prefetch" href="/fish-vuePress/assets/js/12.f04e1f1f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/120.d703c437.js"><link rel="prefetch" href="/fish-vuePress/assets/js/121.ff692d5f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/122.5207210d.js"><link rel="prefetch" href="/fish-vuePress/assets/js/123.b45ae2a4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/124.e3ba7b0d.js"><link rel="prefetch" href="/fish-vuePress/assets/js/125.a90be7d2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/126.e14a08e2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/127.08c070b6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/128.31684ed5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/129.4c4c425a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/13.9f4bb48a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/130.c887a352.js"><link rel="prefetch" href="/fish-vuePress/assets/js/131.f00cc32c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/132.46a6efdd.js"><link rel="prefetch" href="/fish-vuePress/assets/js/133.6e8821b8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/134.c0016c2e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/135.5906d1ca.js"><link rel="prefetch" href="/fish-vuePress/assets/js/136.a250c35a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/137.838c25a1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/138.04d6feca.js"><link rel="prefetch" href="/fish-vuePress/assets/js/139.99fc80a8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/14.05d29434.js"><link rel="prefetch" href="/fish-vuePress/assets/js/140.5a894eb5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/141.0da10d3c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/142.fdc49fcd.js"><link rel="prefetch" href="/fish-vuePress/assets/js/143.c5ecdffa.js"><link rel="prefetch" href="/fish-vuePress/assets/js/144.127e53eb.js"><link rel="prefetch" href="/fish-vuePress/assets/js/145.6339ec5a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/146.b72ef101.js"><link rel="prefetch" href="/fish-vuePress/assets/js/147.a3fdaba8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/148.60641d79.js"><link rel="prefetch" href="/fish-vuePress/assets/js/15.dcbeae73.js"><link rel="prefetch" href="/fish-vuePress/assets/js/16.7c89b3f8.js"><link rel="prefetch" href="/fish-vuePress/assets/js/17.527e7d63.js"><link rel="prefetch" href="/fish-vuePress/assets/js/18.7377f0d6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/19.f5ba7f79.js"><link rel="prefetch" href="/fish-vuePress/assets/js/2.4bfdb790.js"><link rel="prefetch" href="/fish-vuePress/assets/js/20.b2243522.js"><link rel="prefetch" href="/fish-vuePress/assets/js/21.242b4d91.js"><link rel="prefetch" href="/fish-vuePress/assets/js/22.edb03dd2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/23.09942154.js"><link rel="prefetch" href="/fish-vuePress/assets/js/24.6b33d47e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/25.e51c2d41.js"><link rel="prefetch" href="/fish-vuePress/assets/js/26.577501f9.js"><link rel="prefetch" href="/fish-vuePress/assets/js/27.ec96f26b.js"><link rel="prefetch" href="/fish-vuePress/assets/js/28.20187a02.js"><link rel="prefetch" href="/fish-vuePress/assets/js/29.666c814c.js"><link rel="prefetch" href="/fish-vuePress/assets/js/3.9d9f38a6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/30.bc05f7f4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/31.3d280341.js"><link rel="prefetch" href="/fish-vuePress/assets/js/32.fdeaae53.js"><link rel="prefetch" href="/fish-vuePress/assets/js/33.9389c9ae.js"><link rel="prefetch" href="/fish-vuePress/assets/js/34.729b9efa.js"><link rel="prefetch" href="/fish-vuePress/assets/js/35.85bc9fac.js"><link rel="prefetch" href="/fish-vuePress/assets/js/36.464db47b.js"><link rel="prefetch" href="/fish-vuePress/assets/js/37.304de13a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/38.a6f8671e.js"><link rel="prefetch" href="/fish-vuePress/assets/js/39.c7e19da5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/40.fcb99a2f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/41.6ca6eb36.js"><link rel="prefetch" href="/fish-vuePress/assets/js/42.f5056026.js"><link rel="prefetch" href="/fish-vuePress/assets/js/43.96291ec5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/44.8436df96.js"><link rel="prefetch" href="/fish-vuePress/assets/js/45.39dc596b.js"><link rel="prefetch" href="/fish-vuePress/assets/js/46.0e73ce90.js"><link rel="prefetch" href="/fish-vuePress/assets/js/47.518dd04b.js"><link rel="prefetch" href="/fish-vuePress/assets/js/48.f36a449a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/49.39d6e895.js"><link rel="prefetch" href="/fish-vuePress/assets/js/5.92e70f46.js"><link rel="prefetch" href="/fish-vuePress/assets/js/50.70b27645.js"><link rel="prefetch" href="/fish-vuePress/assets/js/51.e03f1f19.js"><link rel="prefetch" href="/fish-vuePress/assets/js/52.b6e55d8a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/53.3730ee57.js"><link rel="prefetch" href="/fish-vuePress/assets/js/54.f2f22eee.js"><link rel="prefetch" href="/fish-vuePress/assets/js/55.b6c04cef.js"><link rel="prefetch" href="/fish-vuePress/assets/js/56.dd65b0d6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/57.71e5285b.js"><link rel="prefetch" href="/fish-vuePress/assets/js/58.00297228.js"><link rel="prefetch" href="/fish-vuePress/assets/js/59.8d3ec4fa.js"><link rel="prefetch" href="/fish-vuePress/assets/js/6.7f1d02bc.js"><link rel="prefetch" href="/fish-vuePress/assets/js/60.dc481572.js"><link rel="prefetch" href="/fish-vuePress/assets/js/61.2b7311e6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/62.54467563.js"><link rel="prefetch" href="/fish-vuePress/assets/js/63.f7739a24.js"><link rel="prefetch" href="/fish-vuePress/assets/js/64.ea92fd67.js"><link rel="prefetch" href="/fish-vuePress/assets/js/66.2c6c49f1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/67.ed60e5c9.js"><link rel="prefetch" href="/fish-vuePress/assets/js/68.87948def.js"><link rel="prefetch" href="/fish-vuePress/assets/js/69.51414141.js"><link rel="prefetch" href="/fish-vuePress/assets/js/7.5066cb77.js"><link rel="prefetch" href="/fish-vuePress/assets/js/70.933862e1.js"><link rel="prefetch" href="/fish-vuePress/assets/js/71.394703c7.js"><link rel="prefetch" href="/fish-vuePress/assets/js/72.7b500072.js"><link rel="prefetch" href="/fish-vuePress/assets/js/73.52593ae5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/74.6f25fbb4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/75.9f29b3cc.js"><link rel="prefetch" href="/fish-vuePress/assets/js/76.690b7ad7.js"><link rel="prefetch" href="/fish-vuePress/assets/js/77.0c6ea2b4.js"><link rel="prefetch" href="/fish-vuePress/assets/js/78.319bd089.js"><link rel="prefetch" href="/fish-vuePress/assets/js/79.df0dfc28.js"><link rel="prefetch" href="/fish-vuePress/assets/js/8.f9028607.js"><link rel="prefetch" href="/fish-vuePress/assets/js/80.d1f63bac.js"><link rel="prefetch" href="/fish-vuePress/assets/js/81.e1cf6dc5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/82.fafff4c2.js"><link rel="prefetch" href="/fish-vuePress/assets/js/83.f33da300.js"><link rel="prefetch" href="/fish-vuePress/assets/js/84.9348707d.js"><link rel="prefetch" href="/fish-vuePress/assets/js/85.7ace8919.js"><link rel="prefetch" href="/fish-vuePress/assets/js/86.0d8934a6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/87.78b06dda.js"><link rel="prefetch" href="/fish-vuePress/assets/js/88.4da01134.js"><link rel="prefetch" href="/fish-vuePress/assets/js/89.9fc01a7f.js"><link rel="prefetch" href="/fish-vuePress/assets/js/9.27f97ad6.js"><link rel="prefetch" href="/fish-vuePress/assets/js/90.8684053a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/91.46ffb1f5.js"><link rel="prefetch" href="/fish-vuePress/assets/js/92.313cf08a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/93.c2643a36.js"><link rel="prefetch" href="/fish-vuePress/assets/js/94.f3055a01.js"><link rel="prefetch" href="/fish-vuePress/assets/js/95.940056d7.js"><link rel="prefetch" href="/fish-vuePress/assets/js/96.43739845.js"><link rel="prefetch" href="/fish-vuePress/assets/js/97.e243aa4a.js"><link rel="prefetch" href="/fish-vuePress/assets/js/98.561f7a88.js"><link rel="prefetch" href="/fish-vuePress/assets/js/99.921a1c32.js">
    <link rel="stylesheet" href="/fish-vuePress/assets/css/0.styles.0de575c4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fish-vuePress/" class="home-link router-link-active"><!----> <span class="site-name">小鱼儿的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fish-vuePress/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/fish-vuePress/node-quick/" class="nav-link router-link-active">
  node
</a></div><div class="nav-item"><a href="/fish-vuePress/webframe/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/fish-vuePress/vue-quick/" class="nav-link">
  快速掌握vue
</a></div><div class="nav-item"><a href="/fish-vuePress/database/" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/fish-vuePress/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/fish-vuePress/webpack/" class="nav-link">
  webpack
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fish-vuePress/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/fish-vuePress/node-quick/" class="nav-link router-link-active">
  node
</a></div><div class="nav-item"><a href="/fish-vuePress/webframe/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/fish-vuePress/vue-quick/" class="nav-link">
  快速掌握vue
</a></div><div class="nav-item"><a href="/fish-vuePress/database/" class="nav-link">
  数据库
</a></div><div class="nav-item"><a href="/fish-vuePress/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/fish-vuePress/webpack/" class="nav-link">
  webpack
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/fish-vuePress/node-quick/promise.html" class="sidebar-link">promise原理手写</a></li><li><a href="/fish-vuePress/node-quick/eventLoop.html" class="sidebar-link">异步&amp;事件环</a></li><li><a href="/fish-vuePress/node-quick/node.html" class="sidebar-link">node基本概念</a></li><li><a href="/fish-vuePress/node-quick/node-modules.html" class="sidebar-link">node中的模块</a></li><li><a href="/fish-vuePress/node-quick/npm.html" class="sidebar-link">npm常用命令</a></li><li><a href="/fish-vuePress/node-quick/path.html" aria-current="page" class="active sidebar-link">node核心模块-path</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path" class="sidebar-link">path</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-normalize" class="sidebar-link">path.normalize</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-join" class="sidebar-link">path.join</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-parse" class="sidebar-link">path.parse</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-basename" class="sidebar-link">path.basename</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-dirname" class="sidebar-link">path.dirname</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-extname" class="sidebar-link">path.extname</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-resolve" class="sidebar-link">path.resolve</a></li><li class="sidebar-sub-header"><a href="/fish-vuePress/node-quick/path.html#path-relative" class="sidebar-link">path.relative</a></li></ul></li></ul></li><li><a href="/fish-vuePress/node-quick/buffer.html" class="sidebar-link">Buffer的应用</a></li><li><a href="/fish-vuePress/node-quick/fs.html" class="sidebar-link">fs模块</a></li><li><a href="/fish-vuePress/node-quick/stream.html" class="sidebar-link">stream模块</a></li><li><a href="/fish-vuePress/node-quick/linkedList.html" class="sidebar-link">什么是链表</a></li><li><a href="/fish-vuePress/node-quick/tree.html" class="sidebar-link">树</a></li><li><a href="/fish-vuePress/node-quick/http.html" class="sidebar-link">HTTP核心概念</a></li><li><a href="/fish-vuePress/node-quick/http-header.html" class="sidebar-link">HTTP中Header应用</a></li><li><a href="/fish-vuePress/node-quick/Cookie.html" class="sidebar-link">Cookie/Session/JWT</a></li><li><a href="/fish-vuePress/node-quick/express.html" class="sidebar-link">Express应用+原理</a></li><li><a href="/fish-vuePress/node-quick/koa.html" class="sidebar-link">koa</a></li><li><a href="/fish-vuePress/node-quick/node-loop.html" class="sidebar-link">node中的进程和线程</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><strong>前言</strong></p> <p>之前在做<code>webpack</code>配置时候多次用到路径相关内容，最近在写项目的时候，有一个文件需要上传到阿里云oss的功能，同时本地服务器也需要保留一个文件备份。多次用到了文件路径相关内容以及Node核心API的<code>path</code>模块，所以系统的学习了一下，整理了这篇文章。</p> <h1 id="node中的路径分类"><a href="#node中的路径分类" class="header-anchor">#</a> node中的路径分类</h1> <p>node中的路径大致分5类，<code>dirname</code>,<code>filename</code>,<code>process.cwd()</code>,<code>./</code>,<code>../</code>,其中<code>dirname</code>,<code>filename</code>,<code>process.cwd()</code>绝对路径</p> <p>通过代码对每个分类进行说明：</p> <p>文件目录结构如下：</p> <div class="language- extra-class"><pre class="language-text"><code>代码pra/
  - node核心API/
      - fs.js
      - path.js
</code></pre></div><p>path.js中的代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在代码pra目录下运行命令 <code>node node核心API/path.js</code>，我们可以看到结果如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra<span class="token operator">/</span>node核心<span class="token constant">API</span>
<span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra<span class="token operator">/</span>node核心<span class="token constant">API</span><span class="token operator">/</span>path<span class="token punctuation">.</span>js
<span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra
<span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra
</code></pre></div><p>然后我们有可以在<code>node核心API目录下</code>运行这个文件，<code>node path.js</code>,运行结果如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra<span class="token operator">/</span>node核心<span class="token constant">API</span>
<span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra<span class="token operator">/</span>node核心<span class="token constant">API</span><span class="token operator">/</span>path<span class="token punctuation">.</span>js
<span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra<span class="token operator">/</span>node核心<span class="token constant">API</span>
<span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra<span class="token operator">/</span>node核心<span class="token constant">API</span>
</code></pre></div><p>对比输出结果，暂时得到的结论是</p> <ul><li>__dirname: 总是返回被执行的 js 所在文件夹的绝对路径</li> <li>__filename: 总是返回被执行的 js 的绝对路径</li> <li>process.cwd(): 总是返回运行 node 命令时所在的文件夹的绝对路径</li> <li>./: 跟 process.cwd() 一样，返回 node 命令时所在的文件夹的绝对路径</li></ul> <p>为什么说上面是暂时得到的结论，因为是有错误的，再看一段代码：
我们在path.js中加上这句代码</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span><span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p>之前直接通过readFile读取文件路径报错，</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./path.js'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>现在在刚才报错的fs.js里面加这两句代码看看：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./path.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span>
</code></pre></div><p>在<code>代码pra/</code>目录下运行<code>node node核心API/fs.js</code>，最后查看结果，说明是可以访问到的：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span> <span class="token constant">A</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</code></pre></div><p>那么关于 <code>./</code>正确的结论是：</p> <p>在 <code>require()</code>中使用是跟<code>__dirname</code> 的效果相同，不会因为启动脚本的目录不一样而改变，在其他情况下跟 <code>process.cwd()</code> 效果相同，是相对于启动脚本所在目录的路径。</p> <h4 id="路径知识总结"><a href="#路径知识总结" class="header-anchor">#</a> 路径知识总结：</h4> <ul><li><code>__dirname</code>： 获得当前执行文件所在目录的完整目录名</li> <li><code>__filename</code>： 获得当前执行文件的带有完整绝对路径的文件名</li> <li><code>process.cwd()</code>：获得当前执行node命令时候的文件夹目录名</li> <li><code>./</code>： 不使用require时候，<code>./</code>与<code>process.cwd()</code>一样，使用<code>require</code>时候，与<code>__dirname</code>一样</li></ul> <p>只有在 require() 时才使用相对路径(./, ../) 的写法，其他地方一律使用绝对路径，如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 当前目录下</span>
 path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>__filename<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/path.js'</span><span class="token punctuation">;</span> 
<span class="token comment">// 相邻目录下</span>
 path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../regx/regx.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>遇到 / 就用path.join</p></div> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'gg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">///Users/zouyu/Desktop/node-zy/http/gg</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// / 应该会被解析成根路径 windows系统应该会是D盘或者C盘那种格式的</span>
</code></pre></div><h2 id="path"><a href="#path" class="header-anchor">#</a> path</h2> <p>前面讲解了路径的相关比较，接下来单独聊聊path这个模块，这个模块在很多地方比较常用，所以，对于我们来说，掌握他，对我们以后的发展更有利，不用每次看webpack的配置文件还要去查询一下这个api是干什么用的，很影响我们的效率</p> <blockquote><p>这是api官网地址:https://nodejs.org/api/path.html</p></blockquote> <p>个人认为官网中的api没有必要都掌握，下面会对一些常用的api进行讲解，我经常用到的，或者作为一个前端开发工程师在webpack等工程配置的时候经常用到的。</p> <h3 id="path-normalize"><a href="#path-normalize" class="header-anchor">#</a> path.normalize</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token string">'/koala/Desktop//程序员成长指北//代码pra/..'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>规范后的结果</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra
</code></pre></div><p><strong>作用总结</strong></p> <p>规范化路径，把不规范的路径规范化。</p> <h3 id="path-join"><a href="#path-join" class="header-anchor">#</a> path.join</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> <span class="token string">'task.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>转化后的结果</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>src<span class="token operator">/</span>task<span class="token punctuation">.</span>js
<span class="token punctuation">.</span>
</code></pre></div><p><strong>作用总结</strong></p> <blockquote><p>path.join([...paths])</p></blockquote> <ol><li>传入的参数是字符串的路径片段，可以是一个，也可以是多个</li> <li>返回的是一个拼接好的路径，但是根据平台的不同，他会对路径进行不同的规范化，举个例子，<code>Unix</code>系统是<code>/</code>，<code>Windows</code>系统是<code>\</code>，那么你在两个系统下看到的返回结果就不一样。</li> <li>如果返回的路径字符串长度为零，那么他会返回一个<code>.</code>，代表当前的文件夹。</li> <li>如果传入的参数中有不是字符串的，那就直接会报错</li></ol> <h3 id="path-parse"><a href="#path-parse" class="header-anchor">#</a> path.parse</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'/koala/Desktop/程序员成长指北/代码pra/node核心API'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>运行结果</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span> root<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
  dir<span class="token operator">:</span> <span class="token string">'/koala/Desktop/程序员成长指北/代码pra'</span><span class="token punctuation">,</span>
  base<span class="token operator">:</span> <span class="token string">'node核心API'</span><span class="token punctuation">,</span>
  ext<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'node核心API'</span> 
<span class="token punctuation">}</span>
</code></pre></div><p><strong>作用总结</strong></p> <p>他返回的是一个对象，那么我们来把这么几个名词熟悉一下：</p> <ol><li>root：代表根目录</li> <li>dir：代表文件所在的文件夹</li> <li>base：代表整一个文件</li> <li>name：代表文件名</li> <li>ext: 代表文件的后缀名</li></ol> <h3 id="path-basename"><a href="#path-basename" class="header-anchor">#</a> path.basename</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">'/koala/Desktop/程序员成长指北/代码pra/node核心API'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">'/koala/Desktop/程序员成长指北/代码pra/node核心API/path.js'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>运行结果</strong></p> <p>看了上面代码的例子，我想应该知道了basename结果，嘿嘿。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>node核心<span class="token constant">API</span>
path
</code></pre></div><p><strong>作用总结</strong></p> <p>basename接收两个参数，第一个是<code>path</code>，第二个是<code>ext</code>(可选参数)，当输入第二个参数的时候，打印结果不出现后缀名</p> <h3 id="path-dirname"><a href="#path-dirname" class="header-anchor">#</a> path.dirname</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token string">'/koala/Desktop/程序员成长指北/代码pra/node核心API'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>运行结果</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra
</code></pre></div><p><strong>作用总结</strong></p> <p>返回文件的目录完整地址</p> <h3 id="path-extname"><a href="#path-extname" class="header-anchor">#</a> path.extname</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">'index.coffee.md'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">'index.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">'.index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>运行结果</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>html
<span class="token punctuation">.</span>md
<span class="token punctuation">.</span>
<span class="token string">''</span>
<span class="token string">''</span>
</code></pre></div><p><strong>作用总结</strong></p> <p>返回的是后缀名，但是最后两种情况返回'',大家注意一下。</p> <h3 id="path-resolve"><a href="#path-resolve" class="header-anchor">#</a> path.resolve</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'/foo/bar'</span><span class="token punctuation">,</span> <span class="token string">'/bar/faa'</span><span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'a/../c'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输出结果</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">/</span>bar<span class="token operator">/</span>c
</code></pre></div><p><strong>作用总结</strong></p> <blockquote><p>path.resolve([...paths])</p></blockquote> <p>path.resolve就相当于是shell下面的<code>cd</code>操作，从左到右运行一遍<code>cd path</code>命令，最终获取的绝对路径/文件名，这个接口所返回的结果了。但是<code>resolve</code>操作和<code>cd</code>操作还是有区别的，<code>resolve</code>的路径可以没有，而且最后进入的可以是文件。具体<code>cd</code>步骤如下</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cd <span class="token operator">/</span>foo<span class="token operator">/</span>bar<span class="token operator">/</span>    <span class="token comment">//这是第一步, 现在的位置是/foo/bar/</span>
cd <span class="token operator">/</span>bar<span class="token operator">/</span>faa     <span class="token comment">//这是第二步，这里和第一步有区别，他是从/进入的，也就时候根目录，现在的位置是/bar/faa</span>
cd <span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token comment">//第三步，从faa退出来，现在的位置是 /bar</span>
cd a<span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>c   <span class="token comment">//第四步，进入a，然后在推出，在进入c，最后位置是/bar/c</span>
</code></pre></div><h3 id="path-relative"><a href="#path-relative" class="header-anchor">#</a> path.relative</h3> <p><strong>举例说明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span><span class="token string">'/data/orandea/test/aaa'</span><span class="token punctuation">,</span> <span class="token string">'/data/orandea/impl/bbb'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span><span class="token string">'/data/demo'</span><span class="token punctuation">,</span> <span class="token string">'/data/demo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span><span class="token string">'/data/demo'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>运行结果</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>impl<span class="token operator">/</span>bbb
 <span class="token string">&quot;&quot;</span>
 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>koala<span class="token operator">/</span>Desktop<span class="token operator">/</span>程序员成长指北<span class="token operator">/</span>代码pra<span class="token operator">/</span>node核心<span class="token constant">API</span>
</code></pre></div><p><strong>作用总结</strong></p> <p>path.relative(from, to)</p> <p>描述：从from路径，到to路径的相对路径。</p> <p>边界：</p> <ul><li>如果from、to指向同个路径，那么，返回空字符串。</li> <li>如果from、to中任一者为空，那么，返回当前工作路径。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fish-vuePress/node-quick/npm.html" class="prev">
        npm常用命令
      </a></span> <span class="next"><a href="/fish-vuePress/node-quick/buffer.html">
        Buffer的应用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fish-vuePress/assets/js/app.e38c1a38.js" defer></script><script src="/fish-vuePress/assets/js/4.47c64f60.js" defer></script><script src="/fish-vuePress/assets/js/65.64813ff6.js" defer></script>
  </body>
</html>
