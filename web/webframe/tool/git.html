<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>如何进阶成公司 Git 小能手(常见问题总结) | 程序员成长指北</title>
    <meta name="description" content="一个用心帮助你成长的公众号">
    <link rel="shortcut icon" href="/favicon.ico" type="iamge/x-icon">
  <meta name="keywords" content="程序员成长指北 前端 公众号 koala 前端文章">
    
    <link rel="preload" href="/assets/css/0.styles.c7c2ec2a.css" as="style"><link rel="preload" href="/assets/js/app.c1ea5f09.js" as="script"><link rel="preload" href="/assets/js/3.9963a623.js" as="script"><link rel="preload" href="/assets/js/2.f88acf12.js" as="script"><link rel="preload" href="/assets/js/8.cab2bbae.js" as="script"><link rel="preload" href="/assets/js/7.bcc7ec58.js" as="script"><link rel="preload" href="/assets/js/10.fad53d07.js" as="script"><link rel="preload" href="/assets/js/5.aa7ac946.js" as="script"><link rel="prefetch" href="/assets/js/11.e0aeafd7.js"><link rel="prefetch" href="/assets/js/12.ed8e4581.js"><link rel="prefetch" href="/assets/js/13.f0b1e449.js"><link rel="prefetch" href="/assets/js/14.bf85a15c.js"><link rel="prefetch" href="/assets/js/15.0dabafe6.js"><link rel="prefetch" href="/assets/js/16.4a20ed9b.js"><link rel="prefetch" href="/assets/js/17.307c98b2.js"><link rel="prefetch" href="/assets/js/18.e1ae6326.js"><link rel="prefetch" href="/assets/js/19.471cbe98.js"><link rel="prefetch" href="/assets/js/20.b21ed2fc.js"><link rel="prefetch" href="/assets/js/21.888db290.js"><link rel="prefetch" href="/assets/js/22.3d1d8a9e.js"><link rel="prefetch" href="/assets/js/23.6fd5ec9f.js"><link rel="prefetch" href="/assets/js/24.8d525c63.js"><link rel="prefetch" href="/assets/js/25.4ec7f5b3.js"><link rel="prefetch" href="/assets/js/26.9dcdcbed.js"><link rel="prefetch" href="/assets/js/27.c4062457.js"><link rel="prefetch" href="/assets/js/28.5cc9b84f.js"><link rel="prefetch" href="/assets/js/29.043d0c61.js"><link rel="prefetch" href="/assets/js/30.7d463ca2.js"><link rel="prefetch" href="/assets/js/31.e1c688ac.js"><link rel="prefetch" href="/assets/js/32.bf71bc22.js"><link rel="prefetch" href="/assets/js/33.f11c31b2.js"><link rel="prefetch" href="/assets/js/34.8330f211.js"><link rel="prefetch" href="/assets/js/35.67b30b06.js"><link rel="prefetch" href="/assets/js/36.1790b192.js"><link rel="prefetch" href="/assets/js/37.33c43309.js"><link rel="prefetch" href="/assets/js/38.9304a7bc.js"><link rel="prefetch" href="/assets/js/39.ee81b8d1.js"><link rel="prefetch" href="/assets/js/4.5f9c9106.js"><link rel="prefetch" href="/assets/js/40.0deb5e91.js"><link rel="prefetch" href="/assets/js/41.22655cfb.js"><link rel="prefetch" href="/assets/js/42.3eb237da.js"><link rel="prefetch" href="/assets/js/43.434a41a2.js"><link rel="prefetch" href="/assets/js/44.b509d32f.js"><link rel="prefetch" href="/assets/js/45.6e8d1e01.js"><link rel="prefetch" href="/assets/js/46.ae72ed23.js"><link rel="prefetch" href="/assets/js/47.78fa4ed4.js"><link rel="prefetch" href="/assets/js/48.93557007.js"><link rel="prefetch" href="/assets/js/49.5f3a95d9.js"><link rel="prefetch" href="/assets/js/50.2e675e8d.js"><link rel="prefetch" href="/assets/js/51.d72b8cb3.js"><link rel="prefetch" href="/assets/js/52.02d0c6b2.js"><link rel="prefetch" href="/assets/js/53.14bb49c3.js"><link rel="prefetch" href="/assets/js/54.3f0cac05.js"><link rel="prefetch" href="/assets/js/55.9b36f080.js"><link rel="prefetch" href="/assets/js/56.ca970554.js"><link rel="prefetch" href="/assets/js/57.ada970c6.js"><link rel="prefetch" href="/assets/js/58.e42ab1ea.js"><link rel="prefetch" href="/assets/js/59.cca8f1db.js"><link rel="prefetch" href="/assets/js/6.8e5bf519.js"><link rel="prefetch" href="/assets/js/60.73dcc633.js"><link rel="prefetch" href="/assets/js/61.9f416548.js"><link rel="prefetch" href="/assets/js/62.c35c5e12.js"><link rel="prefetch" href="/assets/js/63.b5fef24b.js"><link rel="prefetch" href="/assets/js/64.19bcb2d3.js"><link rel="prefetch" href="/assets/js/65.dbda1203.js"><link rel="prefetch" href="/assets/js/66.123d19c6.js"><link rel="prefetch" href="/assets/js/67.95cc5b0c.js"><link rel="prefetch" href="/assets/js/68.19a090d9.js"><link rel="prefetch" href="/assets/js/69.ab9e2298.js"><link rel="prefetch" href="/assets/js/70.3c285714.js"><link rel="prefetch" href="/assets/js/71.f4724ae4.js"><link rel="prefetch" href="/assets/js/72.188185b3.js"><link rel="prefetch" href="/assets/js/73.198ef35e.js"><link rel="prefetch" href="/assets/js/74.99449860.js"><link rel="prefetch" href="/assets/js/75.9d0cf97d.js"><link rel="prefetch" href="/assets/js/76.2ce1642f.js"><link rel="prefetch" href="/assets/js/77.61dcf7fd.js"><link rel="prefetch" href="/assets/js/78.dc2a4eb4.js"><link rel="prefetch" href="/assets/js/79.660749ab.js"><link rel="prefetch" href="/assets/js/80.7ee44f37.js"><link rel="prefetch" href="/assets/js/81.305448ec.js"><link rel="prefetch" href="/assets/js/9.84c0b171.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c7c2ec2a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">程序员成长指北</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/node/" class="nav-link">node</a></div><div class="nav-item"><a href="/webframe/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/database/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试问题</a></div><div class="nav-item"><a href="https://github.com/koala-coding/FE-Infer" target="_blank" rel="noopener noreferrer" class="nav-link external">
  招聘●内推
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/2019_year_end.html" class="nav-link">关于我</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签云</a></div> <a href="https://github.com/koala-coding/goodBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/node/" class="nav-link">node</a></div><div class="nav-item"><a href="/webframe/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/database/" class="nav-link">数据库</a></div><div class="nav-item"><a href="/interview/" class="nav-link">面试问题</a></div><div class="nav-item"><a href="https://github.com/koala-coding/FE-Infer" target="_blank" rel="noopener noreferrer" class="nav-link external">
  招聘●内推
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/2019_year_end.html" class="nav-link">关于我</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签云</a></div> <a href="https://github.com/koala-coding/goodBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="my_introduce" style="padding-left:1rem;"><div class="introduce_component" data-v-924f7e06><img src="/small.png" alt data-v-924f7e06> <div class="intro_content" data-v-924f7e06><h3 data-v-924f7e06>公众号:程序员成长指北</h3> <p data-v-924f7e06>koala 学习成长之路</p></div></div></div> <ul class="sidebar-links"><li><a href="/webframe/" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工具</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/webframe/tool/git.html" class="active sidebar-link">Git 常见问题汇总</a></li><li><a href="/webframe/tool/" class="sidebar-link">软件资源</a></li><li><a href="/webframe/tool/vuepressBlog.html" class="sidebar-link">vuepress搭建个人博客</a></li><li><a href="/webframe/tool/chrome.html" class="sidebar-link">chrome常用插件及日常问题</a></li><li><a href="/webframe/tool/node-versions.html" class="sidebar-link">node以前版本</a></li><li><a href="/webframe/tool/shell.html" class="sidebar-link">我常用的前端提效 shell 命令</a></li></ul></section></li></ul> </aside> <main class="page"> <section class="page_title"><h1 class="def_title">如何进阶成公司 Git 小能手(常见问题总结)</h1> <div class="page_info"><span class="author"><img src="/images/icons/author_icon.png" alt> <span>koala</span></span> <span class="pub_time"><img src="/images/icons/time_icon.png" alt> <span>2020-3-15</span></span> <span class="tags"><img src="/images/icons/label_icon.png" alt> <a href="/tags/?tag=%E5%B7%A5%E5%85%B7" class="tag">工具</a><a href="/tags/?tag=git" class="tag">git</a></span></div></section> <div id="container" class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#前言">前言</a></li><li><a href="#git-经典图">Git 经典图</a><ul><li><a href="#图中的几个专用名词解释：">图中的几个专用名词解释：</a></li></ul></li><li><a href="#git-提交可能遇到的一些问题">git 提交可能遇到的一些问题</a><ul><li><a href="#git-想丢弃还没有到暂存区的代码修改，不想一个一个去撤销代码，把当前所有修改代码丢弃">git 想丢弃还没有到暂存区的代码修改，不想一个一个去撤销代码，把当前所有修改代码丢弃</a></li><li><a href="#git-已经提交">git 已经提交</a></li><li><a href="#git-提交到本地仓库有问题怎么办？">git 提交到本地仓库有问题怎么办？</a></li><li><a href="#git-代码已经-push-上去发现有问题">Git 代码已经 push 上去发现有问题</a></li></ul></li><li><a href="#git-关于暂存的问题">Git 关于暂存的问题</a></li><li><a href="#git-分支相关问题">Git 分支相关问题</a><ul><li><a href="#问题1：我想把本地创建的一个分支-koalanode提交到远程，并且远程分支名称要求-nodescript，且还未创建，需要怎能做？">问题1：我想把本地创建的一个分支 koalanode提交到远程，并且远程分支名称要求 nodescript，且还未创建，需要怎能做？</a></li></ul></li><li><a href="#git-用户名密码邮箱相关问题">git 用户名密码邮箱相关问题</a><ul><li><a href="#公司仓库有账号密码，自己的github有账户密码，两个不同账户，有一次提交发现自己仓库的邮箱提交成了公司仓库设置的邮箱，有点尴尬，为什么会出现这种问题呢？">公司仓库有账号密码，自己的github有账户密码，两个不同账户，有一次提交发现自己仓库的邮箱提交成了公司仓库设置的邮箱，有点尴尬，为什么会出现这种问题呢？</a></li><li><a href="#为什么我每次提交都需要输入github的密码，这个步骤如何省去？">为什么我每次提交都需要输入github的密码，这个步骤如何省去？</a></li></ul></li><li><a href="#提交相关问题">提交相关问题</a></li><li><a href="#几个开发中常用的命令没有做分类">几个开发中常用的命令没有做分类</a></li><li><a href="#关于-merge-可能出现的问题">关于 merge 可能出现的问题</a></li><li><a href="#git-工作流">git 工作流</a></li><li><a href="#git-提交规范">git 提交规范</a></li><li><a href="#git-工具">Git 工具</a></li><li><a href="#vim-常用命令">vim 常用命令</a></li><li><a href="#总结">总结</a></li></ul></div><p></p> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>Git 命令对于程序员的你来说再熟悉不过，但是发现好多小伙伴都是会一些基本的提交流程，当使用过程中遇到问题的时，查到的命令还不敢用，总是请教组里那几个精通 Git 小伙伴。本文对 Git 使用过程中常出现的问题进行总结并且对 Git 的一些误区概念说明了一些，看完后记得自己尝试下，希望你也能成为组里被请教的那 个 Git 小能手。</p> <h2 id="git-经典图"><a href="#git-经典图" class="header-anchor">#</a> Git 经典图</h2> <p><img src="/assets/img/170defa8173379ee.3bc9d5f2.jpg" alt=""></p> <p>一张经典的 Git 流程图(来源阮一峰老师的博客)</p> <h3 id="图中的几个专用名词解释："><a href="#图中的几个专用名词解释：" class="header-anchor">#</a> 图中的几个专用名词解释：</h3> <ol><li>Workspace: 工作区</li> <li>Index / Stage: 暂存区</li> <li>Repository: 本地仓库</li> <li>Remote: 远程仓库</li></ol> <h2 id="git-提交可能遇到的一些问题"><a href="#git-提交可能遇到的一些问题" class="header-anchor">#</a> git 提交可能遇到的一些问题</h2> <h3 id="git-想丢弃还没有到暂存区的代码修改，不想一个一个去撤销代码，把当前所有修改代码丢弃"><a href="#git-想丢弃还没有到暂存区的代码修改，不想一个一个去撤销代码，把当前所有修改代码丢弃" class="header-anchor">#</a> git 想丢弃还没有到暂存区的代码修改，不想一个一个去撤销代码，把当前所有修改代码丢弃</h3> <p>git checkout .</p> <h3 id="git-已经提交"><a href="#git-已经提交" class="header-anchor">#</a> git 已经提交</h3> <h3 id="git-提交到本地仓库有问题怎么办？"><a href="#git-提交到本地仓库有问题怎么办？" class="header-anchor">#</a> git 提交到本地仓库有问题怎么办？</h3> <h4 id="情况一：最近一次-commit-的代码有问题怎么办？"><a href="#情况一：最近一次-commit-的代码有问题怎么办？" class="header-anchor">#</a> 情况一：最近一次 commit 的代码有问题怎么办？</h4> <p>这时候可能有小伙伴说直接修改再提交一次不就好了，这里说一下优雅的方式，不进行再一次提交，修改这次提交。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> 我是修改内容.txt
<span class="token function">git</span> commit --amend
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>【amend】修正，会对最新一条 commit 进行修正，会把当前 commit 里的内容和暂存区（stageing area）里的内容合并起来后创建一个新的 commit，用这个新的 commit 把当前 commit 替换掉。</p> <p>输入上面的命令后，Git 会进入提交信息编辑界面，然后你可以删除之前的 changeId，并且修改或者保留之前的提交信息，:wq 保存按下回车后，你的 commit 就被更新了。</p> <p>对于 amend 还可能出现几种小问题，下面列举下：</p> <h5 id="刚刚写的提交信息有问题，想修改怎么办？"><a href="#刚刚写的提交信息有问题，想修改怎么办？" class="header-anchor">#</a> 刚刚写的提交信息有问题，想修改怎么办？</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> commit --amend -m <span class="token string">&quot;新的提交信息&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="刚刚提交完代码发现，我有个文件没保存，漏了提交上去怎么办？"><a href="#刚刚提交完代码发现，我有个文件没保存，漏了提交上去怎么办？" class="header-anchor">#</a> 刚刚提交完代码发现，我有个文件没保存，漏了提交上去怎么办？</h5> <p>最简单的方式，再次 commit：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span>  commit -m <span class="token string">&quot;提交信息&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>另一中方式,使用--no-edit，它表示提交信息不会更改，在 git 上仅为一次提交。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> changgeFile // changeFile 刚刚漏了提交的文件
<span class="token function">git</span> commit --amend --no-edit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="情况二：最新提交的代码没问题，它上一次提交的有问题怎么办？"><a href="#情况二：最新提交的代码没问题，它上一次提交的有问题怎么办？" class="header-anchor">#</a> 情况二：最新提交的代码没问题，它上一次提交的有问题怎么办？</h4> <p>上面说的是最新一次的提交出了问题，接下来说之前提交的代码发现有问题了想修改，应该怎么办？
需要一个新的命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> rebase -i 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>rebase -i 是 rebase --interactive 的缩写形式，意为「交互式 rebase」。所谓「交互式 rebase」，就是在 rebase 的操作执行之前，你可以指定要 rebase 的 commit 链中的每一个 commit 是否需要进一步修改。</p> <blockquote><p>注意点：看 commit 历史的时候，最新的提交在最下面，刚开始使用时候总是搞错。</p></blockquote> <p>输入上面的命令后，会进入下面的编辑界面。</p> <p><img src="/assets/img/170defc0052e9653.8b8e011a.jpg" alt=""></p> <p>根据编辑界面中的提示，我们把要修改的倒数第二个 commit，也就是上面的【修改代码格式首行缩进】前面 pick 指令改为 edit。edit的意思编辑器中已给了解释，应用这个commit，但是停下来修正。改完之后，esc退出，:wq 保存。</p> <p>会显示如下信息。</p> <p><img src="/assets/img/170defc711daac8c.d3984d59.jpg" alt=""></p> <p>这个rebase过程已经停在倒数第二个 commit 的位置了，修改完成你要修改的内容，再次提交。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit --amend
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>然后继续 rebase 过程,使用 rebase --continue 来继续 rebase 过程，把后面的 commit 直接应用上去。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> rabase --continue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>另外在使用git rebase -i 的时候，里面带了不同的指令，都可以对已有的提交进行一些操作，比如 squash 对多个 commit 合并成一个 commit。</p></blockquote> <h4 id="情况三：刚刚写完的提交太烂了，不想改了，想直接丢弃怎么办？"><a href="#情况三：刚刚写完的提交太烂了，不想改了，想直接丢弃怎么办？" class="header-anchor">#</a> 情况三：刚刚写完的提交太烂了，不想改了，想直接丢弃怎么办？</h4> <p>你可以用 reset --hard 来撤销 commit</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git reset --hard HEAD^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>HEAD 表示 HEAD^ 往回数一个位置的 commit ，HEAD^ 表示你要恢复到哪个 commit。因为你要撤销最新的一个 commit，所以你需要恢复到它的父 commit ，也就是 HEAD^。那么在这行之后，你的最新一条就被撤销了。</p> <h3 id="git-代码已经-push-上去发现有问题"><a href="#git-代码已经-push-上去发现有问题" class="header-anchor">#</a> Git 代码已经 push 上去发现有问题</h3> <h4 id="如果出错内容还在本地私有分支"><a href="#如果出错内容还在本地私有分支" class="header-anchor">#</a> 如果出错内容还在本地私有分支</h4> <p>这种情况你修改后，再次提交会报错，由于你在本地对已有的 commit 做了修改，这时你再 push 就会失败，因为中央仓库包含本地没有的 commits。这种情况只在你自己的分支 branch1 ，可以使用强制 push 的方式解决冲突。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push origin branch1 -f
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>-f 是 --force 的缩写，意为「忽略冲突，强制 push」</p> <h4 id="如果出错内容已经-push-到了-master-分支"><a href="#如果出错内容已经-push-到了-master-分支" class="header-anchor">#</a> 如果出错内容已经 push 到了 master 分支</h4> <p>这种情况可以使用 Git 的 revert 指令。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> revert HEAD^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面这行代码就会增加一条新的 commit，它的内容和倒数第二个 commit 是相反的，从而和倒数第二个 commit 相互抵消，达到撤销的效果。</p> <p>在 revert 完成之后，把新的 commit 再 push 上去，这个 commit 的内容就被撤销了。</p> <blockquote><p>revert 与前面说的 reset 最主要的区别是，这次改动只是被「反转」了，并没有在历史中消失掉，你的历史中会存在两条 commit ：一个原始 commit ，一个对它的反转 commit。</p></blockquote> <h2 id="git-关于暂存的问题"><a href="#git-关于暂存的问题" class="header-anchor">#</a> Git 关于暂存的问题</h2> <p>假如正在开发手中需求的时候，突然来了个紧急 bug 要修复，这时候需要先 stash 已经写的部分代码，使自己返回到上一个 commit 改完 bug 之后从缓存栈中推出之前的代码，继续工作。</p> <ul><li>添加缓存栈: git stash</li> <li>查看缓存栈: git stash list</li> <li>推出缓存栈: git stash pop</li> <li>取出特定缓存内容：git stash apply stash@{1}</li></ul> <blockquote><p>注意：没有被 track 的文件（即从来没有被 add 过的文件不会被 stash 起来，因为 Git 会忽略它们。如果想把这些文件也一起 stash，可以加上 <code>-u</code> 参数，它是 <code>--include-untracked</code> 的简写。就像这样：<code>git stash -u</code></p></blockquote> <h2 id="git-分支相关问题"><a href="#git-分支相关问题" class="header-anchor">#</a> Git 分支相关问题</h2> <p>分支中的常用命令：</p> <ul><li><p>git 拉取指定分支的代码： git clone -b 分支名称 地址</p></li> <li><p>查看当前分支：git branch</p></li> <li><p>查看远程分支：git branch -a</p></li> <li><p>创建并切换分支：git checkout -b add_orderdesc</p></li> <li><p>切换分支：git checkout 分支名称</p></li> <li><p>查看当前的本地分支与远程分支的关联关系：git branch -vv</p></li> <li><p>合并当前分支代码到master：</p></li></ul> <h3 id="问题1：我想把本地创建的一个分支-koalanode提交到远程，并且远程分支名称要求-nodescript，且还未创建，需要怎能做？"><a href="#问题1：我想把本地创建的一个分支-koalanode提交到远程，并且远程分支名称要求-nodescript，且还未创建，需要怎能做？" class="header-anchor">#</a> 问题1：我想把本地创建的一个分支 koalanode提交到远程，并且远程分支名称要求 nodescript，且还未创建，需要怎能做？</h3> <ol><li><p>我先在远程建了一个分支 nodescript，我本地也有这么一个分支，名字和远程的分支名称还不一样。首先，我把我本地的分支名称修改成和远程分支相同。</p></li> <li><p>将本地新建分支push到自己的本地远程origin上，因为只在本地创建了一个新的分支，远程    origin 上还没有该分支</p></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> push origin nodescript
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>把本地分支与远程origin的分支进行关联处理(通过 --set-upstream-to 命令)</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">git</span> branch --set-upstream-to<span class="token operator">=</span>origin/add_orderdesc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>再次通过 <code>git branch -vv</code> 查看分支的关联关系，可见本地分支已于origin的分支建立上了关联关系,之后我们每次 push 或者 pull 的时候，只需要输入git push 或者git pull</li></ol> <h2 id="git-用户名密码邮箱相关问题"><a href="#git-用户名密码邮箱相关问题" class="header-anchor">#</a> git 用户名密码邮箱相关问题</h2> <h3 id="公司仓库有账号密码，自己的github有账户密码，两个不同账户，有一次提交发现自己仓库的邮箱提交成了公司仓库设置的邮箱，有点尴尬，为什么会出现这种问题呢？"><a href="#公司仓库有账号密码，自己的github有账户密码，两个不同账户，有一次提交发现自己仓库的邮箱提交成了公司仓库设置的邮箱，有点尴尬，为什么会出现这种问题呢？" class="header-anchor">#</a> 公司仓库有账号密码，自己的github有账户密码，两个不同账户，有一次提交发现自己仓库的邮箱提交成了公司仓库设置的邮箱，有点尴尬，为什么会出现这种问题呢？</h3> <p>首先这个你在刚开始安装一趟的时候应该就用过:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 设置查看 <span class="token function">git</span> 用户名和邮箱
<span class="token function">git</span> config user.name   --查看git当前配置用户名
<span class="token function">git</span> config user.email  --查看git当前配置的邮箱
<span class="token function">git</span> config user.name 名称 设置用户名
<span class="token function">git</span> config user.email 邮箱 设置git邮箱
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>全局命令设置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> <span class="token function">git</span> config  --global user.name 你的目标用户名；

 <span class="token function">git</span> config  --global user.email 你的目标邮箱名<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在项目中也可以查看这些信息</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vi</span> ~/.gitconfig<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>知道了这些配置修改之后，你可以选择全局配置下，在公司电脑，或者提交前自己看下，就不会再出现上面的尴尬问题了。</p> <h3 id="为什么我每次提交都需要输入github的密码，这个步骤如何省去？"><a href="#为什么我每次提交都需要输入github的密码，这个步骤如何省去？" class="header-anchor">#</a> 为什么我每次提交都需要输入github的密码，这个步骤如何省去？</h3> <h2 id="提交相关问题"><a href="#提交相关问题" class="header-anchor">#</a> 提交相关问题</h2> <p>如何修改已经提交的内容</p> <h2 id="几个开发中常用的命令没有做分类"><a href="#几个开发中常用的命令没有做分类" class="header-anchor">#</a> 几个开发中常用的命令没有做分类</h2> <ol><li>git checkout . 和 git checkout --filename
测试服务器测试时候，发现有一个bug，临时修改下里面的代码，测试一下问题是否解决，再去git仓库拉取新的代码时候，可以用上面的命令忽略掉刚才的修改</li></ol> <p>网上的说法是：git checkout -- filename的作用是把filename文件在工作区的修改撤销到最近一次git add 或 git commit时的内容</p> <ol start="2"><li>如何修改已经提交到远程的代码
场景：提交了代码gerrit ，领导看了代码之后，发现有一些问题需要修改，需要做一些修改，再次提交。
查看当前分支你提交上次一到节点commitid是多少，这种情况可以通过工具看，也可以通过git log 命令查看</li></ol> <p>去gerrit中Abandon，然后执行
git reset 1dc340d792deace324e1ee9ec2f9f0a69d22b9c0，注意这个id是你当前分支上一个提交节点，然后会发现代码恢复到了提交前状态，再次修改问题，重新提交代码就可以，还是比较常见的操作。</p> <ol start="3"><li></li></ol> <h2 id="关于-merge-可能出现的问题"><a href="#关于-merge-可能出现的问题" class="header-anchor">#</a> 关于 merge 可能出现的问题</h2> <h2 id="git-工作流"><a href="#git-工作流" class="header-anchor">#</a> git 工作流</h2> <h2 id="git-提交规范"><a href="#git-提交规范" class="header-anchor">#</a> git 提交规范</h2> <p>这里只列举我常用的提交格式类型</p> <ul><li>feat：新功能（feature）</li> <li>fix：修补bug</li> <li>docs：文档（documentation）</li> <li>style： 格式（不影响代码运行的变动）</li> <li>refactor：重构（即不是新增功能，也不是修改bug的代码变动）</li> <li>test：增加测试</li> <li>chore：其他修改，比如构建过程或辅助工具的变动</li></ul> <p>git 更详细的提交规范可以看一下阮一峰老师的这篇文章，非常棒
<a href="https://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener noreferrer">Commit message 和 Change log 编写指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="git-工具"><a href="#git-工具" class="header-anchor">#</a> Git 工具</h2> <p>网上一些 Git 工具很多，推荐一个SourceThree，但是个人还是比较喜欢用  Git 命令，不然你会发现这项技能慢慢蜕化了，而且一些工具提交时总是带一些我不懂的参数。平时工具和 Git 命令配个使用，用它的可视化图表看提交是否有问题，当然也有公司觉得用命令没有工具安全的，自己选择就好了，嘿嘿。</p> <p>SourceThree 下载地址：https://www.sourcetreeapp.com/</p> <h2 id="vim-常用命令"><a href="#vim-常用命令" class="header-anchor">#</a> vim 常用命令</h2> <p>使用 Git 的时候，偶尔会对 Vim 中对 shell 脚本进行简单操作，为了节约时间，列出几个常用的 vim 快捷命令。</p> <ul><li>a,i,r,o,A,I,R,O	进入编辑模式</li> <li>:q	一般退出</li> <li>:q!	退出不保存</li> <li>:wq	保存退出</li> <li>yy	复制当前行的内容</li> <li>ZZ	保存离开</li> <li>dd	删除光标当前行</li></ul> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>本文对 Git 使用过程中常出现的问题进行了一个总结，后面遇到问题也会不断更新，可以收藏本文，需要的时候查阅，最后建议在记忆的时候围绕文初的图片，多使用。希望本文能帮助到小伙伴们。</p> <p>参考文章：
vim 常用快捷键大全
https://www.jianshu.com/p/dde77e3b299f
git 提交规范
https://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html</p> <p>附件：
一张git常用图片</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/webframe/vue/messageWays.html" class="prev">vue中使用的8种通信方式</a></span> <span class="next"><a href="/webframe/tool/" class="router-link-active">软件资源</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div class="qrcode_container" data-v-2e99e6c4><div class="tencent_code" data-v-2e99e6c4><h4 data-v-2e99e6c4>关注作者公众</h4> <p data-v-2e99e6c4>和万千小伙伴一起学习</p> <img src="/ggh.jpg" alt data-v-2e99e6c4></div> <div class="group_code" data-v-2e99e6c4><h4 data-v-2e99e6c4>加入技术交流群</h4> <p data-v-2e99e6c4>扫描二维码 备注<span data-v-2e99e6c4> 加群</span></p> <img src="/wechat.jpg" alt data-v-2e99e6c4></div></div><!----></div></div>
    <script src="/assets/js/app.c1ea5f09.js" defer></script><script src="/assets/js/3.9963a623.js" defer></script><script src="/assets/js/2.f88acf12.js" defer></script><script src="/assets/js/8.cab2bbae.js" defer></script><script src="/assets/js/7.bcc7ec58.js" defer></script><script src="/assets/js/10.fad53d07.js" defer></script><script src="/assets/js/5.aa7ac946.js" defer></script>
  </body>
</html>
